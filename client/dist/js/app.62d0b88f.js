(function(){"use strict";var t={3319:function(t,e,r){var s=r(5471),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view",{key:t.$route.fullPath})],1)},o=[],i={},n=i,l=r(1656),c=(0,l.A)(n,a,o,!1,null,"6611e2d8",null),d=c.exports,u=r(5353);const m={namespaced:!0,strict:!0,state:{cartProducts:[]},mutations:{SET_CART_PRODUCTS(t,e){t.cartProducts=e},ADD_CART_ITEM(t,e){t.cartProducts.unshift(e)},UPDATE_CART_ITEM_QUANTITY(t,{index:e,quantity:r}){t.cartProducts[e].quantity=r},REMOVE_CART_ITEM(t,e){t.cartProducts.splice(e,1)}},actions:{clearCart({commit:t}){t("SET_CART_PRODUCTS",[])},getCartItem({state:t},e){const r=t.cartProducts.findIndex((t=>t.productId==e));return r},async addToCart({commit:t,dispatch:e},r){const s=await e("getCartItem",r.productId);if(-1==s)return t("ADD_CART_ITEM",r),0},async updateCartItemQuantity({commit:t,dispatch:e},{productId:r,quantity:s}){const a=await e("getCartItem",r);-1!=a&&t("UPDATE_CART_ITEM_QUANTITY",{index:a,quantity:s})},async removeCartItem({commit:t,dispatch:e},r){const s=await e("getCartItem",r);if(-1!=s)return t("REMOVE_CART_ITEM",s),-1}}};var p=r(4335),h=()=>p.A.create({baseURL:"http://localhost:8084",headers:{Authorization:`Bearer ${C.state.CurrentUser.token}`}}),b={getAllProducts(){return h().get("/api/products/getAllProducts")},topSellProduct(t){return h().get(`/api/products/topSellProduct/${t}`)},newAddProduct(t){return h().get(`/api/products/newAddProduct/${t}`)},getProductSales(t){return h().get(`/api/products/getProductSales/${t}`)},getProduct(t){return h().get(`/api/products/getProduct/${t}`)},getProductId(t){return h().get(`/api/products/getProductId/${t}`)},getProductRating(t){return h().get(`/api/products/getProductRating/${t}`)},createProduct(t){return h().post("/api/products/createProduct",t)},updateProduct(t){return h().put("/api/products/updateProduct",t)},deleteProduct(t){return h().delete(`/api/products/deleteProduct/${t}`)}},v={getReviewList(t){return h().get(`/api/review/getReviewList/${t}`)},getUsersReviewList(t){return h().get(`/api/review/getUsersReviewList/${t}`)},createReview(t){return h().post("/api/review/createReview",t)},updateReview(t){return h().put("/api/review/updateReview",t)},deleteReview(t){return h().delete(`/api/review/deleteReview/${t}`)}};const g={namespaced:!0,strict:!0,mutations:{DO_SOMETHING(){}},actions:{async createReview({commit:t},{rating:e,comment:r,productId:s,productRating:a}){t("DO_SOMETHING");try{await v.createReview({rating:e,comment:r,productId:s})}catch(o){console.log(o.response.data.error)}if(0!=e){const t=(a.peopleRated*a.rating+e)/(a.peopleRated+1);try{await b.updateProduct({id:s,rating:t,peopleRated:a.peopleRated+1})}catch(o){console.log(o.response.data.error)}}},async updateReview({commit:t},{review:e,newRating:r,newComment:s}){t("DO_SOMETHING");try{await v.updateReview({id:e.id,rating:r,comment:s,productId:e.ProductId})}catch(i){console.log(i.response.data.error)}if(0!=r&&r!=e.rating){var a,o;0==e.rating?(o=e.Product.peopleRated+1,a=(e.Product.peopleRated*e.Product.rating+r)/o):(o=e.Product.peopleRated,a=(e.Product.peopleRated*e.Product.rating+r-e.rating)/o);try{await b.updateProduct({id:e.ProductId,rating:a,peopleRated:o})}catch(i){console.log(i.response.data.error)}}},async deleteReview({commit:t},e){t("DO_SOMETHING");try{await v.deleteReview(e.id)}catch(s){console.log(s.response.data.error)}if(0!=e.rating){var r;r=1==e.Product.peopleRated?0:(e.Product.peopleRated*e.Product.rating-e.rating)/(e.Product.peopleRated-1);try{await b.updateProduct({id:e.ProductId,rating:r,peopleRated:e.Product.peopleRated-1})}catch(s){console.log(s.response.data.error)}}}}},f={namespaced:!0,strict:!0,state:{productsRouteValidate:!0,allProducts:null,allBackupProducts:null,displayProducts:null,apCount:null,perPage:null,searchParameter:{text:"",categoryId:0,subCategoryId:0,subSubCategoryId:0,lowestAmount:0,maximumAmount:1e9}},mutations:{SET_ALL_BACKUP_PRODUCTS(t,e){t.allBackupProducts=e},SET_ALL_PRODUCTS(t,e){t.allProducts=e,t.perPage=9},SET_DISPLAY_PRODUCTS(t,e){t.displayProducts=e},SET_AP_COUNT(t,e){t.apCount=e},SET_SEARCH_TEXT(t,e){t.searchParameter.text=e},SET_LOWEST_AMOUNT(t,e){t.searchParameter.lowestAmount=e},SET_MAXIMUM_AMOUNT(t,e){t.searchParameter.maximumAmount=e},SET_ROUTE_STATUS(t,e){t.productsRouteValidate=e}},actions:{async setSearchParameter({commit:t},e){if(e.query.q?t("SET_SEARCH_TEXT",e.query.q):t("SET_SEARCH_TEXT",""),e.query.lo){const r=parseInt(e.query.lo);t("SET_LOWEST_AMOUNT",r)}else t("SET_LOWEST_AMOUNT",0);if(e.query.hi){const r=parseInt(e.query.hi);t("SET_MAXIMUM_AMOUNT",r)}else t("SET_MAXIMUM_AMOUNT",1e9)},async setAllBackupProducts({commit:t}){const e=(await b.getAllProducts()).data;t("SET_ALL_BACKUP_PRODUCTS",e)},async getAllBackupProducts({dispatch:t,state:e}){return null!=e.allBackupProducts&&0!=e.allBackupProducts.length||await t("setAllBackupProducts"),e.allBackupProducts},async setAllProducts({commit:t,state:e,dispatch:r}){const s=await r("filterProducts");t("SET_ALL_PRODUCTS",s),t("SET_AP_COUNT",s.length);const a=s.slice(0,e.perPage);t("SET_DISPLAY_PRODUCTS",a)},paginate({commit:t,state:e},r){const s=(r-1)*e.perPage,a=e.allProducts.slice(s,s+e.perPage);t("SET_DISPLAY_PRODUCTS",a)},async filterProducts({state:t,dispatch:e}){var r=await e("getAllBackupProducts");return 0!=t.searchParameter.subSubCategoryId?r=r.filter((e=>e.SubSubCategoryId==t.searchParameter.subSubCategoryId)):0!=t.searchParameter.subCategoryId?r=r.filter((e=>e.SubCategoryId==t.searchParameter.subCategoryId)):0!=t.searchParameter.categoryId&&(r=r.filter((e=>e.CategoryId==t.searchParameter.categoryId))),r=r.filter((e=>e.title.toLowerCase().includes(t.searchParameter.text.toLowerCase()))),r=r.filter((e=>e.amount>=t.searchParameter.lowestAmount&&e.amount<=t.searchParameter.maximumAmount)),r}}},w={namespaced:!0,strict:!0,state:{customerDetails:{name:"",email:"",address:{line1:"",line2:"",zipCode:"",city:"",division:"",country:""}},shippingRate:4},mutations:{SET_CUSTOMER_NAME(t,e){t.customerDetails.name=e},SET_CUSTOMER_EMAIL(t,e){t.customerDetails.email=e},SET_CUSTOMER_ADDRESS_LINE1(t,e){t.customerDetails.address.line1=e},SET_CUSTOMER_ADDRESS_LINE2(t,e){t.customerDetails.address.line2=e},SET_CUSTOMER_ADDRESS_ZIP_CODE(t,e){t.customerDetails.address.zipCode=e},SET_CUSTOMER_ADDRESS_CITY(t,e){t.customerDetails.address.city=e},SET_CUSTOMER_ADDRESS_DIVISION(t,e){t.customerDetails.address.division=e},SET_CUSTOMER_ADDRESS_COUNTRY(t,e){t.customerDetails.address.country=e}},actions:{resetCustomerDetails({commit:t}){t("SET_CUSTOMER_NAME",""),t("SET_CUSTOMER_EMAIL",""),t("SET_CUSTOMER_ADDRESS_LINE1",""),t("SET_CUSTOMER_ADDRESS_LINE2",""),t("SET_CUSTOMER_ADDRESS_ZIP_CODE",""),t("SET_CUSTOMER_ADDRESS_CITY",""),t("SET_CUSTOMER_ADDRESS_DIVISION",""),t("SET_CUSTOMER_ADDRESS_COUNTRY","")},informationValidate({state:t}){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(""!=t.customerDetails.name&&e.test(t.customerDetails.email)&&""!=t.customerDetails.address.line1&&""!=t.customerDetails.address.line2&&""!=t.customerDetails.address.zipCode&&""!=t.customerDetails.address.city&&""!=t.customerDetails.address.division&&""!=t.customerDetails.address.country){var r,s="";for(r in t.customerDetails.address)s+="zipCode"!=r?"<b>"+r+":</b> "+t.customerDetails.address[r]+"<br/>":"<b>zip code:</b> "+t.customerDetails.address[r]+"<br/>";const e={name:t.customerDetails.name,email:t.customerDetails.email,shippingAddress:s};return e}return!1},setCustomerName({commit:t},e){t("SET_CUSTOMER_NAME",e)},setCustomerEmail({commit:t},e){t("SET_CUSTOMER_EMAIL",e)},setCustomerAddressLine1({commit:t},e){t("SET_CUSTOMER_ADDRESS_LINE1",e)},setCustomerAddressLine2({commit:t},e){t("SET_CUSTOMER_ADDRESS_LINE2",e)},setCustomerAddressZipCode({commit:t},e){t("SET_CUSTOMER_ADDRESS_ZIP_CODE",e)},setCustomerAddressCity({commit:t},e){t("SET_CUSTOMER_ADDRESS_CITY",e)},setCustomerAddressDivision({commit:t},e){t("SET_CUSTOMER_ADDRESS_DIVISION",e)},setCustomerAddressCountry({commit:t},e){t("SET_CUSTOMER_ADDRESS_COUNTRY",e)}}},_={namespaced:!0,strict:!0,state:{token:"",user:{},admin:!1,userId:0,newUserEmail:"",newUserId:0,userLoggedIn:!1},mutations:{SET_TOKEN(t,e){t.token=e,t.userLoggedIn=""!=e},SET_USER(t,e){t.user=e,0!=Object.keys(e).length?(t.userId=e.id,1==e.priority?t.admin=!0:t.admin=!1):(t.admin=!1,t.userId=0)},SET_NAME(t,{firstName:e,lastName:r}){t.user.firstName=e,t.user.lastName=r},SET_USERNAME(t,e){t.user.username=e},SET_NEW_USER_ID(t,e){t.newUserId=e},SET_NEW_USER_EMAIL(t,e){t.newUserEmail=e}},actions:{setToken({commit:t},e){t("SET_TOKEN",e)},setUser({commit:t},e){t("SET_USER",e)},setName({commit:t},{firstName:e,lastName:r}){t("SET_NAME",{firstName:e,lastName:r})},setUserName({commit:t},e){t("SET_USERNAME",e)},setNewUserId({commit:t},e){t("SET_NEW_USER_ID",e)},setNewUserEmail({commit:t},e){t("SET_NEW_USER_EMAIL",e)}}};var y=r(406);s["default"].use(u.Ay);var C=new u.Ay.Store({strict:!0,plugins:[(0,y.A)()],modules:{Cart:m,Review:g,Products:f,Checkout:w,CurrentUser:_}}),P=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-5"},[e("h1",[t._v("About Us")]),e("h2",[t._v("About Us")]),e("h3",[t._v("About Us")]),e("h4",[t._v("About Us")]),e("h5",[t._v("About Us")]),e("h6",[t._v("About Us")])]),e("MyFooter",{staticClass:"mt-5"})],1)},S=[],I=function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",[e("b-navbar",{staticClass:"py-3",staticStyle:{"background-color":"#00283a"},attrs:{toggleable:"lg",type:"dark"}},[e("b-navbar-brand",{attrs:{href:"/"}},[e("span",[t._v(" Phone Shop")])]),e("b-navbar-toggle",{attrs:{target:"nav-top-header-collapse"}}),e("b-collapse",{attrs:{id:"nav-top-header-collapse","is-nav":""}},[e("b-navbar-nav",{staticClass:"mr-auto"},[e("b-nav-form",{staticClass:"mr-auto",on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[e("b-form-input",{staticClass:"mr-sm-2 searchField",attrs:{placeholder:"Search..."},model:{value:t.searchTxt,callback:function(e){t.searchTxt=e},expression:"searchTxt"}})],1)],1),e("b-navbar-nav",{staticClass:"ml-auto"},[e("b-nav-item",{staticClass:"mr-auto",attrs:{to:"/cart-view"}},[e("div",[e("b-icon",{attrs:{icon:"cart2"}}),t._v(" Cart ")],1)]),t.userLoggedIn?e("b-nav-item",{staticClass:"mr-auto"},[e("b-img",{attrs:{height:"35px",width:"35px",src:t.user.profileImage}})],1):t._e(),t.userLoggedIn?e("b-nav-item-dropdown",{staticClass:"mr-auto",attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t.user.username?e("em",{staticStyle:{color:"#fff"}},[t._v(" "+t._s(t.user.username)+" ")]):t._e(),t.user.username?t._e():e("em",{staticStyle:{color:"#fff"}},[t._v(" "+t._s(t.user.firstName)+" "+t._s(t.user.lastName)+" ")])]},proxy:!0}],null,!1,318627038)},[t.admin?e("b-dropdown-item",{attrs:{to:"/admin"}},[t._v(" Admin Panel ")]):t._e(),e("b-dropdown-item",{attrs:{to:"/profile"}},[t._v("Profile")]),e("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("Log Out")])],1):t._e(),t.userLoggedIn?t._e():e("b-button",{staticClass:"mr-auto ml-3",attrs:{pill:"",variant:"success",to:"/login"}},[t._v(" Login / Register ")])],1)],1)],1)],1)],1),e("hr",{staticClass:"m-0",staticStyle:{"background-color":"#000"}})],1)},A=[],T=(r(4114),{name:"TopHeader",data(){return{user:{},admin:!1,userLoggedIn:!1,searchTxt:""}},async mounted(){this.user=this.$store.state.CurrentUser.user,this.admin=this.$store.state.CurrentUser.admin,this.userLoggedIn=this.$store.state.CurrentUser.userLoggedIn},computed:{},methods:{async logout(){this.$store.dispatch("CurrentUser/setToken",""),this.$store.dispatch("CurrentUser/setUser",{}),window.location.reload()},search(){var t="/";if(""!=this.searchTxt.trim()){const e=this.searchTxt.trim();t+="?q="+e,this.$router.push({path:t})}}}}),k=T,N=(0,l.A)(k,I,A,!1,null,"afc35f2c",null),U=N.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{background:"#1f2e50",color:"#ffffff"}},[e("b-container",{staticClass:"pb-4"},[e("b-row",{staticClass:"pt-5 pb-4"},[e("b-col",{attrs:{cols:"5"}},[e("h2",[e("strong",[t._v("Company Name")])]),e("p",[t._v("Company Description")])]),e("b-col",{attrs:{cols:"3"}},[e("h3",[t._v("Links")]),e("b-link",{attrs:{href:"#"}},[t._v("Company Profile")]),e("br"),e("b-link",{attrs:{href:"#"}},[t._v("Terms & Conditions")]),e("br"),e("b-link",{attrs:{href:"#"}},[t._v("Privacy Policy")]),e("br")],1),e("b-col",{attrs:{cols:"4"}},[e("h3",[t._v("Location")]),e("span",[t._v("Company Address")]),e("div",{staticClass:"mt-3"},[e("b-icon",{attrs:{icon:"envelope"}}),t._v(" Company Email "),e("br")],1)])],1),e("hr"),e("h5",[t._v("© 2023, All rights reserved")])],1)],1)},R=[],E={name:"MyFooter"},L=E,O=(0,l.A)(L,x,R,!1,null,"5f556b09",null),$=O.exports,M={name:"AboutUs",components:{TopHeader:U,MyFooter:$}},D=M,q=(0,l.A)(D,P,S,!1,null,"db002f6e",null),V=q.exports,z=function(){var t=this,e=t._self._c;return e("div",[e("ATopHeader"),e("b-container",{staticClass:"mt-5"},[e("b-row",{attrs:{"align-v":"center"}},[e("b-col",[e("h3",[t._v("Hello "+t._s(t.user.firstName)+" "+t._s(t.user.lastName)+",")]),e("h5",[t._v("Welcome to admin dashboard")])]),e("b-col",[e("img",{attrs:{src:"/img/svg/overview.svg",alt:"",width:"300"}})])],1)],1)],1)},F=[],H=function(){var t=this,e=t._self._c;return e("div",[e("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[e("b-navbar-brand",{attrs:{href:"/"}},[e("span",[t._v("Phone Shop")])]),e("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e("b-navbar-nav",{staticClass:"mr-auto"},[e("b-nav-item",{staticClass:"ml-2",attrs:{to:"/admin"}},[e("div",{staticStyle:{color:"#fff","font-size":"18px"}},[t._v("Dashboard")])]),e("b-nav-item",{staticClass:"ml-2",attrs:{to:"/admin/users"}},[e("div",{staticStyle:{color:"#fff","font-size":"18px"}},[t._v("Users")])]),e("b-nav-item",{staticClass:"ml-2",attrs:{to:"/admin/orders"}},[e("div",{staticStyle:{color:"#fff","font-size":"18px"}},[t._v("Orders")])])],1),e("b-navbar-nav",{staticClass:"ml-auto"},[e("b-nav-item",[e("b-img",{attrs:{height:"35px",width:"35px",src:t.user.profileImage}})],1),e("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t.user.username?e("em",{staticStyle:{color:"#fff"}},[t._v(" "+t._s(t.user.username)+" ")]):t._e(),t.user.username?t._e():e("em",{staticStyle:{color:"#fff"}},[t._v(" "+t._s(t.user.firstName)+" "+t._s(t.user.lastName)+" ")])]},proxy:!0}])},[e("b-dropdown-item",{attrs:{to:"/admin/profile"}},[t._v("Admin Profile")]),e("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("Log Out")])],1)],1)],1)],1)],1)},B=[],j={name:"ATopHeader",components:{},data(){return{companyLogo:"http://localhost:8084/public/logo.png"}},methods:{logout(){this.$store.dispatch("CurrentUser/setToken",""),this.$store.dispatch("CurrentUser/setUser",{}),this.$router.push({path:"/"})}},computed:{...(0,u.aH)({user:t=>t.CurrentUser.user,userLoggedIn:t=>t.CurrentUser.userLoggedIn})}},Y=j,K=(0,l.A)(Y,H,B,!1,null,"5bafb95a",null),Z=K.exports,W={name:"AOverview",components:{ATopHeader:Z},data(){return{user:this.$store.state.CurrentUser.user}}},G=W,Q=(0,l.A)(G,z,F,!1,null,"4bb95bd8",null),X=Q.exports,J=function(){var t=this,e=t._self._c;return e("div",[e("ATopHeader"),t.validParam?e("b-container",[e("b-row",{staticClass:"mt-2"},[e("b-col",{staticClass:"text-center"},[e("h3",[t._v("Order #"+t._s(t.orderId))])])],1),e("hr"),e("b-row",[e("b-col",{attrs:{cols:"6"}},[e("OrderDetails",{key:t.componentKey,attrs:{orderInfo:t.orderInfo}})],1),e("b-col",{attrs:{cols:"6"}},[e("OrderItems",{key:t.componentKey,attrs:{orderItems:t.orderItems,orderInfo:t.orderInfo}})],1)],1)],1):t._e(),t.validParam?t._e():e("div",[e("InvalidParameter",{attrs:{paramName:"order",pageToNavigate:"Orders Page",routerLink:"/admin/orders"}})],1),e("MyFooter",{staticClass:"mt-5"})],1)},tt=[],et={getOrderItemList(t){return h().get(`/api/orderItem/getOrderItemList/${t}`)},createOrderItem(t){return h().post("/api/orderItem/createOrderItem",t)},deleteOrderItem(t){return h().delete(`/api/orderItem/deleteOrderItem/${t}`)}},rt={getOrderList(){return h().get("/api/order/getOrderList")},getOrder(t){return h().get(`/api/order/getOrder/${t}`)},getOrderBySessionId(t){return h().get(`/api/order/getOrderBySessionId/${t}`)},createOrder(t){return h().post("/api/order/createOrder",t)},updateOrder(t){return h().put("/api/order/updateOrder",t)},deleteOrder(t){return h().delete(`/api/order/deleteOrder/${t}`)}},st=function(){var t=this,e=t._self._c;return e("div",[e("b-container",[e("b-row",[e("b-col",{attrs:{cols:"6"}},[e("b-card",{staticClass:"mt-5",staticStyle:{color:"#001e5f"}},[e("h2",[e("strong",[t._v(" Page not found. ")])]),e("div",{staticClass:"mt-4"},[t._v(" We don't have any information about this "+t._s(t.paramName)+". "),e("br"),t._v(" This "+t._s(t.paramName)+" might removed from the website. "),e("br"),t._v(" Or you might clicked on an invalid link. "),e("br"),t._v(" Go to "),e("b-link",{attrs:{to:t.routerLink}},[t._v(" "+t._s(t.pageToNavigate)+" "),e("b-icon",{attrs:{icon:"arrow-right"}})],1)],1)])],1)],1)],1)],1)},at=[],ot={name:"InvalidParameter",props:{paramName:{required:!0,type:String},pageToNavigate:{required:!0,type:String},routerLink:{required:!0,type:String}},components:{},data(){return{}},computed:{},mounted(){},methods:{}},it=ot,nt=(0,l.A)(it,st,at,!1,null,"47a49620",null),lt=nt.exports,ct=function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",[e("h5",{staticClass:"font-weight-bold"},[t._v("Order Cost")]),e("hr"),e("h6",{staticClass:"font-weight-bold"},[t._v("Product Value")]),t._v(" "+t._s(t.orderInfo.productCost)+" "+t._s(t.orderInfo.currency)+" "),e("hr"),e("h6",{staticClass:"mt-4 font-weight-bold"},[t._v("Shipping Cost")]),t._v(" "+t._s(t.orderInfo.shippingCost)+" "+t._s(t.orderInfo.currency)+" "),e("hr"),e("h6",{staticClass:"mt-4 font-weight-bold"},[t._v("Total Amount")]),t._v(" "+t._s(t.orderInfo.productCost+t.orderInfo.shippingCost)+" "+t._s(t.orderInfo.currency)+" "),e("hr")])],1),e("b-row",{staticClass:"mt-5"},[e("b-col",[e("h5",{staticClass:"font-weight-bold"},[t._v("Customer Details")]),e("hr"),e("h6",{staticClass:"font-weight-bold"},[t._v("Name")]),t._v(" "+t._s(t.orderInfo.name)+" "),e("h6",{staticClass:"mt-4 font-weight-bold"},[t._v("Email")]),t._v(" "+t._s(t.orderInfo.email)+" ")])],1),e("b-row",{staticClass:"mt-5"},[e("b-col",[e("h5",{staticClass:"font-weight-bold"},[t._v("Shipping Address")]),e("hr"),e("div",{domProps:{innerHTML:t._s(t.orderInfo.address)}})])],1)],1)},dt=[],ut={name:"OrderDetails",props:{orderInfo:{type:Object,required:!0}},components:{},data(){return{}},mounted(){},methods:{},computed:{}},mt=ut,pt=(0,l.A)(mt,ct,dt,!1,null,"2e4e12ea",null),ht=pt.exports,bt=function(){var t=this,e=t._self._c;return e("div",[e("b-row",t._l(t.orderItems,(function(r){return e("b-col",{key:r.id,attrs:{cols:"6"}},[e("b-card-group",{attrs:{deck:""}},[e("b-card",{staticClass:"mb-4",staticStyle:{"max-width":"14rem"},attrs:{"img-top":""}},[e("b-card-img",{staticStyle:{"max-width":"14rem","max-height":"14rem"},attrs:{src:r.Product.image1,alt:"Image Not Found"}}),e("br"),e("b-link",{attrs:{to:{path:`/product/${r.Product.id}`}}},[t._v(" "+t._s(r.Product.title)+" ")]),e("br"),e("small",{staticClass:"mt-2"},[t._v(" Price: "+t._s(r.Product.amount)+" "+t._s(r.Product.currency)+" ")]),e("br"),e("small",{staticClass:"mt-2"},[t._v("Quantity: "+t._s(r.quantity))]),e("br"),e("small",{staticClass:"mt-2"},[t._v(" Cost: "+t._s(r.Product.amount*r.quantity)+" "+t._s(r.Product.currency)+" ")])],1)],1)],1)})),1),e("b-row",[e("b-col",[e("h5",{staticClass:"font-weight-bold"},[t._v("Update Status")]),e("hr"),e("b-row",[e("b-col",{attrs:{cols:"5"}},[e("b-dropdown",{attrs:{id:"dropdown-left",text:t.orderStatus,block:"",variant:t.statusVariant}},t._l(t.allStatus,(function(r,s){return e("b-dropdown-item",{key:s,on:{click:function(e){return t.updateStatus(r)}}},[t._v(" "+t._s(r.name)+" ")])})),1)],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",[e("h5",{staticClass:"font-weight-bold"},[t._v("Delete Order")]),e("hr"),e("b-row",[e("b-col",{attrs:{cols:"5"}},[e("b-button",{attrs:{block:"",disabled:"",variant:"danger"}},[t._v(" Delete ")])],1)],1),"complete"==t.orderStatus?e("b-row",{staticClass:"mt-2"},[e("b-col",[e("small",[t._v(" We don't allow anyone to delete any order information. If you delete this order from here this same order could be retrieve from stripe by using given checkout session id. We didn't find any way to delete order information from stripe yet. If we find a way to solve this issue we may update it. Until then please wait. ")])])],1):t._e()],1)],1)],1)],1)],1)},vt=[],gt={name:"OrderItems",props:{orderItems:{type:Array,required:!0},orderInfo:{type:Object,required:!0}},components:{},data(){return{orderStatus:this.orderInfo.status,statusVariant:this.orderInfo.variant,allStatus:[{name:"paid",variant:"dark"},{name:"preparing",variant:"info"},{name:"on the way",variant:"warning"},{name:"complete",variant:"success"}]}},mounted(){},methods:{async updateStatus(t){this.orderStatus=t.name,this.statusVariant=t.variant;try{await rt.updateOrder({id:this.orderInfo.id,status:t.name,variant:t.variant})}catch(e){console.log(e.response.data.error)}},async deleteOrder(){for(var t in this.orderItems)try{await et.deleteOrderItem(this.orderItems[t].id)}catch(e){console.log(e.response.data.error)}try{await rt.deleteOrder(this.orderInfo.id)}catch(e){console.log(e.response.data.error)}this.$router.push({path:"/admin/orders"})}},computed:{}},ft=gt,wt=(0,l.A)(ft,bt,vt,!1,null,"43822480",null),_t=wt.exports,yt={name:"AOrder",components:{ATopHeader:Z,InvalidParameter:lt,OrderDetails:ht,OrderItems:_t,MyFooter:$},data(){return{orderId:0,orderInfo:{},orderItems:[],componentKey:0,validParam:!0}},async mounted(){this.orderId=this.$route.params.orderId;try{this.orderInfo=(await rt.getOrder(this.orderId)).data,this.validParam=0!=Object.keys(this.orderInfo).length}catch(t){console.log(t.response.data.error)}try{this.orderItems=(await et.getOrderItemList(this.orderId)).data,this.componentKey+=1}catch(t){console.log(t.response.data.error)}},methods:{},computed:{}},Ct=yt,Pt=(0,l.A)(Ct,J,tt,!1,null,"2daeb9f1",null),St=Pt.exports,It=function(){var t=this,e=t._self._c;return e("div",[e("ATopHeader"),e("b-container",{staticClass:"mt-4"},[e("b-row",[e("b-col",{staticClass:"text-center"},[e("h3",[t._v("Admins Order Page")])])],1),e("hr"),0!=t.orders?e("div",[e("b-row",[e("b-col",{staticClass:"text-center",attrs:{cols:"1"}},[e("strong",[t._v("ID")])]),e("b-col",{attrs:{cols:"3"}},[e("strong",[t._v("Full Name")])]),e("b-col",{attrs:{cols:"3"}},[e("strong",[t._v("Email")])]),e("b-col",{attrs:{cols:"2"}},[e("strong",[t._v("Order Price")])]),e("b-col",{staticClass:"text-center",attrs:{cols:"3"}},[e("strong",[t._v("Status")]),e("b-dropdown",{staticClass:"ml-2",attrs:{size:"sm",id:"dropdown-left",text:t.selectedTypeName,variant:t.selectedTypeVariant}},[e("b-dropdown-item",{on:{click:function(e){return t.selectType(t.anyType)}}},[t._v(" "+t._s(t.anyType.name)+" ")]),t._l(t.orderStatus,(function(r,s){return e("b-dropdown-item",{key:s,on:{click:function(e){return t.selectType(r)}}},[t._v(" "+t._s(r.name)+" ")])}))],2)],1)],1),e("hr")],1):t._e(),e("div",t._l(t.secondOrderList,(function(r){return e("div",{key:r.id},[e("b-row",[e("b-col",{staticClass:"text-center",attrs:{cols:"1"}},[t._v(t._s(r.id))]),e("b-col",{attrs:{cols:"3"}},[t._v(t._s(r.name))]),e("b-col",{attrs:{cols:"3"}},[t._v(t._s(r.email))]),e("b-col",{attrs:{cols:"2"}},[t._v(" "+t._s(r.productCost+r.shippingCost)+" "+t._s(r.currency)+" ")]),e("b-col",{staticClass:"text-center",attrs:{cols:"3"}},[e("b-row",[e("b-col",{attrs:{cols:"7"}},[e("b-dropdown",{attrs:{size:"sm",block:"",id:"dropdown-left",text:r.status,variant:r.variant}},t._l(t.orderStatus,(function(s,a){return e("b-dropdown-item",{key:a,on:{click:function(e){return t.updateStatus(r,s)}}},[t._v(" "+t._s(s.name)+" ")])})),1)],1),e("b-col",{attrs:{cols:"5"}},[e("b-button",{attrs:{size:"sm",block:"",variant:"warning",to:`/admin/order/${r.id}`}},[t._v(" Details ")])],1)],1)],1)],1),e("hr")],1)})),0),0==t.orders?e("div",{staticClass:"mt-5 d-flex justify-content-center"},[e("h3",[t._v("Order not found...")])]):t._e(),0!=t.orders?e("b-pagination",{attrs:{size:"md","total-rows":t.orders,"per-page":t.perPage},on:{input:function(e){return t.paginate(t.currentPage)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1),e("MyFooter",{staticClass:"mt-5"})],1)},At=[],Tt={name:"AOrders",components:{ATopHeader:Z,MyFooter:$},data(){return{anyType:{name:"All",variant:"dark"},selectedTypeName:"All",selectedTypeVariant:"dark",orders:0,secondOrderList:null,orderList:null,orderList2:null,orderStatus:[{name:"paid",variant:"dark"},{name:"preparing",variant:"info"},{name:"on the way",variant:"warning"},{name:"complete",variant:"success"}],currentPage:1,perPage:20}},async mounted(){try{if(this.orderList=(await rt.getOrderList()).data,this.orderList2=this.orderList.slice(),this.orderList2){this.orders=this.orderList2.length;const t=0;this.secondOrderList=this.orderList2.slice(t,t+this.perPage)}}catch(t){console.log(t.response.data.error)}},methods:{selectType(t){"All"==t.name?(this.selectedTypeName=t.name,this.selectedTypeVariant=t.variant,this.orderList2=this.orderList.slice()):(this.selectedTypeName=t.name,this.selectedTypeVariant=t.variant,this.orderList2=this.orderList.filter((e=>e.status==t.name))),this.orders=this.orderList2.length;const e=0;this.secondOrderList=this.orderList2.slice(e,e+this.perPage)},async updateStatus(t,e){const r=this.secondOrderList.findIndex((e=>e.id===t.id));this.secondOrderList[r].status=e.name,this.secondOrderList[r].variant=e.variant,await rt.updateOrder({id:t.id,status:e.name,variant:e.variant})},paginate(t){const e=(t-1)*this.perPage;this.secondOrderList=this.orderList2.slice(e,e+this.perPage)}}},kt=Tt,Nt=(0,l.A)(kt,It,At,!1,null,"2be4eea8",null),Ut=Nt.exports,xt=function(){var t=this,e=t._self._c;return e("div",[e("ATopHeader"),e("b-container",{staticClass:"mt-4"},[e("div",[e("b-tabs",{attrs:{"nav-wrapper-class":"w-25",vertical:"",pills:"",card:""}},[e("b-tab",{attrs:{title:"Profile",active:""}},[e("UPublicProfile")],1),e("b-tab",{attrs:{lazy:"",title:"Reviews"}},[e("UReviews")],1),e("b-tab",{attrs:{lazy:"",title:"Account"}},[e("UAccount")],1)],1)],1)]),e("MyFooter",{staticClass:"mt-5"})],1)},Rt=[],Et=function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",[e("h5",[t._v("Public profile")])])],1),e("hr",{staticClass:"my-2"}),e("b-row",{staticClass:"mt-3"},[e("b-col",{attrs:{cols:"7"}},[e("div",[e("strong",[t._v("Name")]),1==t.user.priority?e("b-badge",{staticClass:"ml-2",attrs:{pill:"",variant:"success"}},[e("b-icon",{attrs:{icon:"check-circle-fill"}}),t._v(" Admin ")],1):t._e()],1),0==t.editName?e("div",{staticClass:"mt-1"},[t._v(" "+t._s(t.user.firstName)+" "+t._s(t.user.lastName)+" "),e("b-button",{staticClass:"ml-1",attrs:{variant:"white",size:"sm"},on:{click:t.changeName}},[e("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"change name",scale:"0.8",icon:"pen"}})],1)],1):t._e(),1==t.editName?e("div",[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updateName.apply(null,arguments)}}},[e("b-row",{staticClass:"mt-2"},[e("b-col",[e("b-form-input",{attrs:{size:"sm",placeholder:"First Name",required:""},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),e("b-col",[e("b-form-input",{attrs:{size:"sm",placeholder:"Last Name",required:""},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("b-button",{attrs:{size:"sm",type:"submit",variant:"warning"}},[t._v(" Save ")]),e("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){t.editName^=1}}},[t._v(" Cancel ")])],1)],1)],1)],1):t._e(),e("div",[e("div",{staticClass:"mt-3"},[e("strong",[t._v("Username")]),t.user.username?t._e():e("b-button",{staticClass:"ml-1",attrs:{variant:"white",size:"sm"},on:{click:t.changeUserName}},[e("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Add username",scale:"0.8",icon:"pen"}})],1)],1),t.user.username&&0==t.editUserName?e("div",{staticClass:"mt-1"},[t._v(" "+t._s(t.user.username)+" "),e("b-button",{staticClass:"ml-1",attrs:{variant:"white",size:"sm"},on:{click:t.changeUserName}},[e("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Change username",scale:"0.8",icon:"pen"}})],1)],1):t._e(),1==t.editUserName?e("div",[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updateUserName.apply(null,arguments)}}},[e("b-row",{staticClass:"mt-2",attrs:{"max-cols":"6"}},[e("b-col",{attrs:{cols:"6"}},[e("b-form-input",{attrs:{size:"sm",placeholder:"Username",debounce:"500",state:t.userNameValidation,required:""},on:{update:t.checkUserName},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),e("b-form-valid-feedback",{attrs:{state:t.userNameValidation}},[t._v(" This username is available. ")]),e("b-form-invalid-feedback",{attrs:{state:t.userNameValidation}},[t._v(" "+t._s(t.userNameMessage)+" ")])],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("b-button",{attrs:{size:"sm",type:"submit",variant:"warning"}},[t._v(" Save ")]),e("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){t.editUserName^=1}}},[t._v(" Cancel ")])],1)],1)],1)],1):t._e()]),e("div",{staticClass:"mt-3"},[e("strong",[t._v("Email")])]),e("div",{staticClass:"mt-1"},[t._v(" "+t._s(t.user.email)+" ")]),e("div",{staticClass:"mt-3"},[e("strong",[t._v("Password")])]),e("div",{staticClass:"mt-1"},[t._v(" ******** "),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modalUpdatePassword",modifiers:{modalUpdatePassword:!0}}],staticClass:"ml-1",attrs:{variant:"white",size:"sm"}},[e("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"change password",scale:"0.8",icon:"pen"}})],1)],1),e("b-modal",{attrs:{title:"Change password",id:"modalUpdatePassword","hide-footer":""},on:{shown:function(e){return t.$refs.currentPasswordField.focus()}}},[e("b-form",{on:{reset:t.resetPasswordField,submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updatePassword.apply(null,arguments)}}},[e("b-form-group",{attrs:{id:"input-group-current-password",label:"Current Password","label-for":"input-current-password"}},[e("b-form-input",{ref:"currentPasswordField",attrs:{id:"input-current-password",type:"password",state:t.validCurrentPassword&&t.currentPasswordValidation,required:""},model:{value:t.currentPassword,callback:function(e){t.currentPassword=e},expression:"currentPassword"}}),t.currentPassword?e("b-form-invalid-feedback",{attrs:{state:t.validCurrentPassword&&t.currentPasswordValidation}},[t._v(" "+t._s(t.currentPasswordMessage)+" ")]):t._e(),t.currentPassword?t._e():e("b-form-invalid-feedback",{attrs:{state:t.validCurrentPassword&&t.currentPasswordValidation}},[t._v(" Current password field can't be empty! ")])],1),e("b-form-group",{attrs:{id:"input-group-new-password",label:"New Password","label-for":"input-new-password"}},[e("b-form-input",{attrs:{id:"input-new-password",type:"password",state:t.newPasswordValidation,required:""},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),t.newPassword?e("b-form-invalid-feedback",{attrs:{state:t.newPasswordValidation}},[t._v(" New password must have 8-32 character long, contain letters, numbers and must not contain space. ")]):t._e(),t.newPassword?t._e():e("b-form-invalid-feedback",{attrs:{state:t.newPasswordValidation}},[t._v(" Password field can't be empty! ")])],1),e("b-form-group",{attrs:{id:"input-group-confirm-password",label:"Confirm Password","label-for":"input-confirm-password"}},[e("b-form-input",{attrs:{id:"input-confirm-password",state:t.confirmPasswordValidation,type:"password",required:""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),t.confirmPassword?e("b-form-invalid-feedback",{attrs:{state:t.confirmPasswordValidation}},[t._v(" Password didn't match ")]):t._e(),t.confirmPassword?t._e():e("b-form-invalid-feedback",{attrs:{state:t.confirmPasswordValidation}},[t._v(" Password field can't be empty! ")])],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{attrs:{cols:"4"}}),e("b-col",{attrs:{cols:"4"}},[e("b-button",{attrs:{type:"reset",block:"",variant:"danger"}},[t._v(" Reset ")])],1),e("b-col",{attrs:{cols:"4"}},[e("b-button",{attrs:{block:"",type:"submit",variant:"success"}},[t._v(" Submit ")])],1)],1)],1)],1)],1),e("b-col",{attrs:{cols:"5"}},[e("b-img",{attrs:{rounded:"circle",width:"230px",height:"auto",src:t.user.profileImage}})],1)],1)],1)},Lt=[],Ot={register(t){return h().post("/api/auth/register",t)},login(t){return h().post("/api/auth/login",t)},verifyPassword(t){return h().get(`/api/auth/verifyPassword/${t}`)},updatePassword(t){return h().post("/api/auth/updatePassword",t)},requestPasswordToken(t){return h().post("/api/auth/requestPasswordToken",t)},verifyPasswordToken(t){return h().get(`/api/auth/verifyPasswordToken/${t}`)},resetPassword(t){return h().post("/api/auth/resetPassword",t)}},$t={checkUserName(t){return h().get(`/api/user/checkUserName/${t}`)},deleteAccount(t){return h().delete(`/api/user/deleteAccount/${t}`)},getUserList(){return h().get("/api/user/getUserList")},updateUser(t){return h().post("/api/user/updateUser",t)},getUserById(t){return h().get(`/api/user/getUserById/${t}`)},getUserByEmail(t){return h().get(`/api/user/getUserByEmail/${t}`)}},Mt={name:"UPublicProfile",components:{},data(){return{user:{},userId:0,editName:0,lastName:"",userName:"",firstName:"",editUserName:0,formatUserName:/^[a-zA-Z0-9]{6,20}$/,formatPassword:/^[a-zA-z0-9]{8,32}$/,userNameMessage:"",userNameValidation:null,validCurrentPassword:!0,currentPasswordMessage:"",newPasswordMessage:"",confirmPasswordMessage:"",currentPassword:null,newPassword:null,confirmPassword:null}},computed:{currentPasswordValidation(){return""!=this.currentPassword&&null},newPasswordValidation(){return null==this.newPassword?null:!!this.formatPassword.test(this.newPassword)},confirmPasswordValidation(){return null==this.confirmPassword?null:!(this.newPassword!=this.confirmPassword||!this.formatPassword.test(this.confirmPassword))}},async mounted(){this.userId=this.$store.state.CurrentUser.userId;try{this.user=(await $t.getUserById(this.userId)).data}catch(t){console.log(t.response.data.error)}},methods:{changeName(){this.firstName=this.user.firstName,this.lastName=this.user.lastName,this.editName^=1},async updateName(){try{await $t.updateUser({id:this.user.id,firstName:this.firstName,lastName:this.lastName}),this.$store.dispatch("CurrentUser/setName",{firstName:this.firstName,lastName:this.lastName}),this.editName^=1,window.location.reload()}catch(t){console.log(t.response.data.error)}},changeUserName(){this.userName=this.user.username,this.editUserName^=1},async checkUserName(){if(this.userName==this.user.username)return!0;if(!this.formatUserName.test(this.userName))return this.userNameValidation=!1,this.userNameMessage="Your username must be 6-20 characters using alphabets and numbers",!1;try{const t=(await $t.checkUserName(this.userName)).data;return this.userNameValidation=t.userNameAvailable,1==t.userNameAvailable?(this.userNameMessage="",!0):(this.userNameMessage="This username is not available",!1)}catch(t){this.userNameValidation=!1,this.userNameMessage=t.response.data.error,console.log(t.response.data.error)}},async updateUserName(){if(await this.checkUserName()&&this.userName!=this.user.username)try{await $t.updateUser({id:this.user.id,username:this.userName}),this.$store.dispatch("CurrentUser/setUserName",this.userName),this.editUserName^=1,window.location.reload()}catch(t){this.userNameValidation=!1,this.userNameMessage=t.response.data.error,console.log(t.response.data.error)}},resetPasswordField(){this.currentPassword="",this.newPassword=null,this.confirmPassword=null},async updatePassword(){var t=!1;try{t=(await Ot.verifyPassword(this.currentPassword)).data.correctPassword}catch(e){this.validCurrentPassword=!1,this.currentPasswordMessage=e.response.data.error}if(t&&this.newPasswordValidation&&this.confirmPasswordValidation)try{await Ot.updatePassword({password:this.newPassword}),window.location.reload()}catch(e){this.validCurrentPassword=!1,this.currentPasswordMessage=e.response.data.error}}}},Dt=Mt,qt=(0,l.A)(Dt,Et,Lt,!1,null,"90199af0",null),Vt=qt.exports,zt=function(){var t=this,e=t._self._c;return e("div",[0!=t.reviews&&1!=t.reviews?e("div",{staticStyle:{color:"#001e5f"}},[e("h4",[t._v("You made "+t._s(t.reviews)+" reviews on product.")])]):t._e(),0==t.reviews||1==t.reviews?e("div",{staticStyle:{color:"#001e5f"}},[e("h4",[t._v("You made "+t._s(t.reviews)+" review on product.")])]):t._e(),t._l(t.reviewList2,(function(r){return e("div",{key:r.id,staticClass:"mb-2"},[e("b-card",{staticClass:"mt-3",attrs:{"bg-variant":"white","text-variant":"dark"}},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-img",{staticClass:"mb-2",attrs:{src:r.Product.image1,height:"140px",width:"140px"}})],1),e("b-col",{attrs:{cols:"9"}},[t._v(" your review on  "),e("b-link",{attrs:{to:`/product/${r.ProductId}`}},[t._v(" "+t._s(r.Product.title)+" ")]),e("b-row",{staticClass:"mt-3"},[e("b-col",{attrs:{cols:"7"}},[e("b-form-rating",{staticClass:"mb-2",attrs:{readonly:"",value:r.rating,variant:"primary"}})],1)],1),e("b-row",[e("b-col",[e("p",[t._v(t._s(r.comment))])])],1)],1)],1)],1)],1)})),t.reviews>t.perPage?e("b-pagination",{attrs:{size:"lg","total-rows":t.reviews,"per-page":t.perPage},on:{input:function(e){return t.paginate(t.currentPage)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],2)},Ft=[],Ht={name:"UReviews",components:{},data(){return{reviews:0,currentPage:1,perPage:3,userId:0,user:{},editReviewAlert:null,editReviewId:0,editRating:null,editComment:"",productId:0,reviewList:[],reviewList2:[]}},async mounted(){this.userId=this.$store.state.CurrentUser.userId,this.user=this.$store.state.CurrentUser.user;try{if(this.reviewList=(await v.getUsersReviewList(this.userId)).data,this.reviewList){this.reviews=this.reviewList.length;const t=0;this.reviewList2=this.reviewList.slice(t,t+this.perPage)}}catch(t){console.log(t.response.data.error)}},methods:{paginate(t){const e=(t-1)*this.perPage;this.reviewList2=this.reviewList.slice(e,e+this.perPage)}},computed:{}},Bt=Ht,jt=(0,l.A)(Bt,zt,Ft,!1,null,"0cd1d054",null),Yt=jt.exports,Kt=function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",[e("h5",[t._v("Account")]),e("hr")])],1),e("div",[t.admin?e("div",[t._v(" Role "),e("br"),e("b-button",{staticClass:"mt-2"},[t._v(" "+t._s(t.user.userType)+" ")]),e("hr")],1):t._e(),e("div",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.delete-account-confirmation",modifiers:{"delete-account-confirmation":!0}}],attrs:{variant:"outline-danger"}},[t._v(" Close my account ")]),e("br"),e("p",{staticClass:"mt-2"},[t._v(" Once you delete your account, you'll not be able to revert it. ")])],1)]),e("b-modal",{attrs:{"hide-footer":"",id:"delete-account-confirmation"},on:{shown:t.focusPasswordField},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Are you sure you want to do this? ")]},proxy:!0}])},[e("p",[t._v("We'll also delete all of your activity from our server.")]),e("label",{attrs:{for:"input-password"}},[t._v(" To be sure please enter your "),e("strong",[t._v("current password")])]),e("b-form-input",{ref:"passwordField",attrs:{type:"password",id:"input-password"},on:{keyup:function(e){t.modalAlert=!1}},model:{value:t.currentPassword,callback:function(e){t.currentPassword=e},expression:"currentPassword"}}),e("b-alert",{staticClass:"my-2 p-1 pl-2",attrs:{show:t.modalAlert,variant:"primary"}},[t._v(" "+t._s(t.deleteAccountError)+" ")]),e("b-row",{staticClass:"mt-3"},[e("b-col",{attrs:{cols:"4"}}),e("b-col",{attrs:{cols:"4"}},[e("b-button",{attrs:{block:"",variant:"warning"},on:{click:function(e){return t.$bvModal.hide("delete-account-confirmation")}}},[t._v(" Cancel ")])],1),e("b-col",{attrs:{cols:"4"}},[e("b-button",{attrs:{block:"",variant:"danger"},on:{click:t.deleteAccount}},[t._v(" Delete Account ")])],1)],1)],1)],1)},Zt=[],Wt={name:"UAccount",components:{},data(){return{userId:0,user:{},admin:!1,modalAlert:null,deleteAccountError:"",currentPassword:null}},mounted(){this.userId=this.$store.state.CurrentUser.userId,this.user=this.$store.state.CurrentUser.user,this.admin=this.$store.state.CurrentUser.admin},methods:{focusPasswordField(){this.$refs.passwordField.focus()},async deleteAccount(){var t=!1;try{t=(await Ot.verifyPassword(this.currentPassword)).data.correctPassword}catch(s){this.modalAlert=!0,this.deleteAccountError=s.response.data.error,console.log(s.response.data.error)}if(t){var e,r=[];try{r=(await v.getUsersReviewList(this.userId)).data}catch(s){console.log(s.response.data.error)}for(e in r)await this.$store.dispatch("Review/deleteReview",r[e]);try{await $t.deleteAccount(this.userId)}catch(s){this.modalAlert=!0,this.deleteAccountError=s.response.data.error}this.$store.dispatch("CurrentUser/setToken",""),this.$store.dispatch("CurrentUser/setUser",{}),this.$router.push({path:"/"})}}},computed:{}},Gt=Wt,Qt=(0,l.A)(Gt,Kt,Zt,!1,null,"d42f4d5c",null),Xt=Qt.exports,Jt={name:"AProfile",components:{ATopHeader:Z,UPublicProfile:Vt,UReviews:Yt,UAccount:Xt,MyFooter:$},data(){return{}},computed:{},mounted(){},methods:{}},te=Jt,ee=(0,l.A)(te,xt,Rt,!1,null,"023603ea",null),re=ee.exports,se=function(){var t=this,e=t._self._c;return e("div",[e("ATopHeader"),e("b-container",{staticClass:"mt-2"},[e("b-row",[e("b-col",{staticClass:"text-center"},[e("h3",[t._v("Users")])])],1),e("hr"),e("b-row",[e("b-col",[e("b-row",[e("b-col",{attrs:{cols:"8"}}),e("b-col",{attrs:{cols:"4"}},[e("b-form",{attrs:{inline:""},on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[e("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"",placeholder:"Search user..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.searchUserText,callback:function(e){t.searchUserText=e},expression:"searchUserText"}}),e("b-button",{attrs:{variant:"white"},on:{click:t.search}},[e("b-icon",{attrs:{icon:"search"}})],1)],1)],1)],1),0!=t.users?e("div",[e("hr"),e("div",[e("b-row",[e("b-col"),e("b-col",[e("strong",[t._v("Email")])]),e("b-col",[e("strong",[t._v("Name")])]),e("b-col",{staticClass:"text-center"},[e("strong",[t._v("Status")]),e("b-dropdown",{staticClass:"ml-2",attrs:{size:"sm",id:"dropdown-left",text:t.selectedTypeName}},[e("b-dropdown-item",{on:{click:function(e){return t.selectType(t.anyType)}}},[t._v(" "+t._s(t.anyType.name)+" ")]),t._l(t.userStatus,(function(r,s){return e("b-dropdown-item",{key:s,on:{click:function(e){return t.selectType(r)}}},[t._v(" "+t._s(r.name)+" ")])}))],2)],1)],1),e("hr")],1),t._l(t.secondUserList,(function(r){return e("div",{key:r.id},[e("b-row",[e("b-col",[e("b-img",{attrs:{height:"80px",src:r.profileImage,alt:"No Image"}})],1),e("b-col",[t._v(" "+t._s(r.email)+" ")]),e("b-col",[t._v(t._s(r.firstName)+" "+t._s(r.lastName))]),e("b-col",[e("b-row",[e("b-col",{attrs:{cols:"7"}},[1==r.id?e("b-button",{attrs:{size:"sm",block:""}},[t._v(t._s(r.userType))]):t._e(),1!=r.id?e("b-dropdown",{attrs:{size:"sm",block:"",id:"dropdown-left",text:r.userType}},t._l(t.userStatus,(function(s,a){return e("b-dropdown-item",{key:a,on:{click:function(e){return t.updateStatus(r,s)}}},[t._v(" "+t._s(s.name)+" ")])})),1):t._e()],1),e("b-col",{attrs:{cols:"5"}},[r.id!=t.userId&&1!=r.id?e("b-button",{attrs:{size:"sm",block:"",variant:"danger"},on:{click:function(e){return t.deleteAccount(r)}}},[t._v(" Delete ")]):t._e(),r.id==t.userId?e("b-button",{attrs:{size:"sm",block:"",to:"/admin/profile",variant:"info"}},[t._v(" Profile ")]):t._e()],1)],1)],1)],1),e("hr")],1)}))],2):t._e(),0==t.users?e("div",{staticClass:"m-4 d-flex justify-content-center"},[e("h3",[t._v("User not found...")])]):t._e(),0!=t.users?e("b-pagination",{attrs:{size:"lg","total-rows":t.users,"per-page":t.perPage},on:{input:function(e){return t.paginate(t.currentPage)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],1)],1)},ae=[],oe={name:"AUsers",components:{ATopHeader:Z},data(){return{anyType:{name:"All"},userId:0,selectedTypeName:"All",selectedTypeVariant:"dark",searchUserText:"",users:1,secondUserList:[],userList:[],userList2:[],userStatus:[{name:"Admin",priority:1,description:"Owner of this system."},{name:"Customer",priority:2,description:"End user of the system."}],currentPage:1,perPage:20}},computed:{},async mounted(){try{if(this.userId=this.$store.state.CurrentUser.userId,this.userList=(await $t.getUserList()).data,this.userList2=this.userList.slice(),this.userList2){this.users=this.userList2.length;const t=0;this.secondUserList=this.userList2.slice(t,t+this.perPage)}}catch(t){console.log(t.response.data.error)}},methods:{search(){"All"!=this.selectedTypeName&&(this.userList2=this.userList2.filter((t=>t.userType.toLowerCase().includes(this.selectedTypeName.toLowerCase())))),this.userList2=this.userList2.filter((t=>t.firstName.toLowerCase().includes(this.searchUserText.toLowerCase())||t.lastName.toLowerCase().includes(this.searchUserText.toLowerCase())||t.email.toLowerCase().includes(this.searchUserText.toLowerCase()))),this.users=this.userList2.length;const t=0;this.secondUserList=this.userList2.slice(t,t+this.perPage)},selectType(t){"All"==t.name?(this.searchUserText="",this.selectedTypeName=t.name,this.userList2=this.userList.slice()):(this.selectedTypeName=t.name,this.userList2=this.userList.filter((e=>e.userType==t.name))),this.users=this.userList2.length;const e=0;this.secondUserList=this.userList2.slice(e,e+this.perPage)},async updateStatus(t,e){const r=this.secondUserList.findIndex((e=>e.id===t.id));this.secondUserList[r].userType=e.name,await $t.updateUser({id:t.id,userType:e.name,priority:e.priority})},async deleteAccount(t){var e,r=[];try{r=(await v.getUsersReviewList(t.id)).data}catch(s){console.log(s.response.data.error)}for(e in r)await this.$store.dispatch("Review/deleteReview",r[e]);try{await $t.deleteAccount(t.id),window.location.reload()}catch(s){this.$bvToast.toast(s.response.data.error,{title:"Error deleting Account",toaster:"b-toaster-top-center",noCloseButton:!1,solid:!0}),console.log(s.response.data.error)}},paginate(t){const e=(t-1)*this.perPage;this.secondUserList=this.userList2.slice(e,e+this.perPage)}}},ie=oe,ne=(0,l.A)(ie,se,ae,!1,null,"592260a6",null),le=ne.exports,ce=function(){var t=this,e=t._self._c;return e("div",[e("ATopHeader"),e("b-container",{staticClass:"mt-4"},[e("b-card",[e("b-navbar",{attrs:{"text-variant":"white",variant:"info"}},[e("b-navbar-brand",{staticStyle:{color:"#fff"}},[t._v("Add Product")])],1),e("b-form",{staticClass:"mt-3",on:{reset:t.resetProduct,submit:function(e){return e.stopPropagation(),e.preventDefault(),t.createNewProduct.apply(null,arguments)}}},[e("b-row",{attrs:{cols:"1","cols-md":"2"}},[e("b-col",[e("b-form-group",{attrs:{id:"input-group-title",label:"Product Title","label-for":"input-title"}},[e("b-form-input",{attrs:{id:"input-title",placeholder:"Enter Product Name",required:""},model:{value:t.product.title,callback:function(e){t.$set(t.product,"title",e)},expression:"product.title"}})],1),e("b-row",[e("b-col",[e("b-form-group",{attrs:{id:"input-group-amount",label:"Price","label-for":"input-amount"}},[e("b-form-input",{attrs:{id:"input-amount",placeholder:"Price",required:""},model:{value:t.product.amount,callback:function(e){t.$set(t.product,"amount",e)},expression:"product.amount"}})],1)],1),e("b-col",[e("b-form-group",{attrs:{id:"input-group-currency",label:"Currency","label-for":"input-currency"}},[e("b-form-input",{attrs:{id:"input-currency",readonly:"",required:""},model:{value:t.product.currency,callback:function(e){t.$set(t.product,"currency",e)},expression:"product.currency"}})],1)],1)],1),e("div",[e("b-form-group",{attrs:{id:"input-group-overview",label:"Overview","label-for":"input-overview"}},[e("vue-editor",{attrs:{required:"",id:"input-overview"},on:{keyup:function(e){!t.productSubTitleAlert||(t.productSubTitleAlert=!1)}},model:{value:t.product.subtitle,callback:function(e){t.$set(t.product,"subtitle",e)},expression:"product.subtitle"}})],1)],1)],1),e("b-col",[e("b-form-group",{attrs:{id:"input-group-images",label:"Product Images","label-for":"input-images"}},[e("b-form-file",{attrs:{id:"input-images",placeholder:"Upto 10 image",required:"",multiple:""},on:{change:t.selectedImage}})],1),e("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",show:t.imageAlert}},[t._v(" "+t._s(t.errorCountImage)+" ")]),e("div",{attrs:{id:"preview"}},[e("b-row",{staticClass:"mt-2"},t._l(t.dispImg,(function(r,s){return e("b-col",{key:s,attrs:{cols:"3"}},[t._v(" "+t._s(s+1)+" "),e("b-img",{attrs:{src:r,width:"100%"}})],1)})),1)],1)],1)],1),e("hr"),e("b-row",[e("b-col",[e("div",[e("b-form-group",{attrs:{id:"input-group-description",label:"Description","label-for":"input-description"}},[e("vue-editor",{attrs:{required:"",id:"input-description"},on:{keyup:function(e){!t.productDescriptionAlert||(t.productDescriptionAlert=!1)}},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1)],1)])],1),e("b-alert",{attrs:{variant:"warning",show:t.productSubTitleAlert}},[t._v(" "+t._s(t.productSubTitleMessage)+" ")]),e("b-alert",{attrs:{variant:"warning",show:t.productDescriptionAlert}},[t._v(" "+t._s(t.productDescriptionMessage)+" ")]),e("b-row",[e("b-col",{attrs:{cols:"7"}}),e("b-col",{attrs:{cols:"5"}},[e("b-row",[e("b-col",[e("b-button",{attrs:{type:"reset",variant:"danger",block:""}},[t._v("Reset")])],1),e("b-col",[e("b-button",{attrs:{variant:"primary",block:"",type:"submit"}},[t._v(" Submit ")])],1)],1)],1)],1)],1)],1)],1),e("MyFooter",{staticClass:"mt-5"})],1)},de=[],ue=(r(4603),r(7566),r(8721),r(1877)),me={name:"AddProduct",components:{ATopHeader:Z,VueEditor:ue.aZ,MyFooter:$},data(){return{images:[],productSubTitleMessage:"Add product overview text.",productSubTitleAlert:!1,productDescriptionMessage:"Add proper description for this product.",productDescriptionAlert:!1,backupProduct:null,product:{code:"",title:"",amount:null,sales:0,subtitle:"",rating:0,peopleRated:0,description:"",currency:"USD"},errorCountImage:"You are not allowed to add more than 10 image for any product.",maximumImageCount:10,imageAlert:!1,dispImg:[]}},computed:{},async mounted(){this.backupProduct=this.product},methods:{resetProduct(){this.product=this.backupProduct},async createNewProduct(){if(""!=this.product.subtitle){if(""==this.product.description)return this.productSubTitleAlert=!1,void(this.productDescriptionAlert=!0);this.product.subtitle=this.product.subtitle.replace(/<p><br><\/p>/g,""),this.product.description=this.product.description.replace(/<p><br><\/p>/g,"");var t,e,r=new FormData;for(t in this.product)r.append(t,this.product[t]);for(e=0;e<this.images.length;e++)e<this.maximumImageCount&&r.append("imageField",this.images[e]);try{const t=(await b.createProduct(r)).data;await this.$store.dispatch("Products/setAllBackupProducts"),this.$router.push({path:`/product/${t.id}`})}catch(s){console.log(s.response.data.error)}}else this.productSubTitleAlert=!0},selectedImage(t){var e;for(this.images=t.target.files,this.images.length>this.maximumImageCount?this.imageAlert=!0:this.imageAlert=!1,this.dispImg=[],e=0;e<this.images.length;e++)e<this.maximumImageCount&&(this.dispImg[e]=URL.createObjectURL(this.images[e]))}}},pe=me,he=(0,l.A)(pe,ce,de,!1,null,"f29a63da",null),be=he.exports,ve=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-4"},[e("b-row",[e("b-col",{staticClass:"text-center"},[e("h3",[t._v("Before You Pay Us")])])],1),e("hr"),e("b-row",[e("b-col",{attrs:{cols:"6"}},[e("AddressForm")],1),e("b-col",{attrs:{cols:"6"}},[e("BuyItem")],1)],1)],1),e("MyFooter",{staticClass:"mt-5"})],1)},ge=[],fe=function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",[e("b-form",[e("h5",{staticClass:"font-weight-bold"},[t._v("Personal Details")]),e("hr"),e("b-form-group",{attrs:{id:"input-group-name",label:"Name","label-for":"input-name"}},[e("b-form-input",{attrs:{id:"input-name",type:"text",state:t.nameValidation,required:""},on:{change:t.setName},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e("b-form-group",{attrs:{id:"input-group-email",label:"Email","label-for":"input-email"}},[e("b-form-input",{attrs:{id:"input-email",type:"email",state:t.emailValidation,required:""},on:{change:t.setEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),e("div",{staticClass:"mt-4"},[e("b-card",{attrs:{"bg-variant":"light"}},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Shipping Address","label-size":"lg","label-class":"font-weight-bold pt-0"}},[e("b-form-group",{attrs:{label:"Line1:","label-for":"nested-line1","label-cols-sm":"3","label-align-sm":"right"}},[e("b-form-input",{attrs:{state:t.line1Validation,required:"",id:"nested-line1"},on:{change:t.setAddressLine1},model:{value:t.line1,callback:function(e){t.line1=e},expression:"line1"}})],1),e("b-form-group",{attrs:{label:"Line2:","label-for":"nested-line2","label-cols-sm":"3","label-align-sm":"right"}},[e("b-form-input",{attrs:{state:t.line2Validation,required:"",id:"nested-line2"},on:{change:t.setAddressLine2},model:{value:t.line2,callback:function(e){t.line2=e},expression:"line2"}})],1),e("b-form-group",{attrs:{label:"Zip Code:","label-for":"nested-zipcode","label-cols-sm":"3","label-align-sm":"right"}},[e("b-form-input",{attrs:{state:t.zipCodeValidation,required:"",id:"nested-zipcode"},on:{change:t.setAddressZipCode},model:{value:t.zipCode,callback:function(e){t.zipCode=e},expression:"zipCode"}})],1),e("b-form-group",{attrs:{label:"City:","label-for":"nested-city","label-cols-sm":"3","label-align-sm":"right"}},[e("b-form-input",{attrs:{state:t.cityValidation,required:"",id:"nested-city"},on:{change:t.setAddressCity},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),e("b-form-group",{attrs:{label:"Division:","label-for":"nested-division","label-cols-sm":"3","label-align-sm":"right"}},[e("b-form-input",{attrs:{state:t.divisionValidation,required:"",id:"nested-division"},on:{change:t.setAddressDivision},model:{value:t.division,callback:function(e){t.division=e},expression:"division"}})],1),e("b-form-group",{staticClass:"mb-0",attrs:{label:"Country:","label-for":"nested-country","label-cols-sm":"3","label-align-sm":"right"}},[e("b-form-input",{attrs:{state:t.countryValidation,required:"",id:"nested-country"},on:{change:t.setAddressCountry},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1)],1)],1)],1)],1)],1)],1)],1)},we=[],_e={name:"AddressForm",components:{},data(){return{name:null,email:null,line1:null,line2:null,zipCode:null,city:null,division:null,country:null,formatNumber:/^[0-9+-]+$/,formatEmail:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/}},computed:{nameValidation(){return null==this.name?null:0!=this.name.length},emailValidation(){return null==this.email?null:this.formatEmail.test(this.email)},line1Validation(){return null==this.line1?null:0!=this.line1.length},line2Validation(){return null==this.line2?null:0!=this.line2.length},zipCodeValidation(){return null==this.zipCode?null:0!=this.zipCode.length},cityValidation(){return null==this.city?null:0!=this.city.length},divisionValidation(){return null==this.division?null:0!=this.division.length},countryValidation(){return null==this.country?null:0!=this.country.length}},async mounted(){await this.$store.dispatch("Checkout/resetCustomerDetails");const t=this.$store.state.CurrentUser.user;0!=Object.keys(t).length&&(this.name=t.firstName+" "+t.lastName,this.email=t.email,this.setName(),this.setEmail())},methods:{setName(){this.$store.dispatch("Checkout/setCustomerName",this.name)},setEmail(){this.$store.dispatch("Checkout/setCustomerEmail",this.email)},setAddressLine1(){this.$store.dispatch("Checkout/setCustomerAddressLine1",this.line1)},setAddressLine2(){this.$store.dispatch("Checkout/setCustomerAddressLine2",this.line2)},setAddressZipCode(){this.$store.dispatch("Checkout/setCustomerAddressZipCode",this.zipCode)},setAddressCity(){this.$store.dispatch("Checkout/setCustomerAddressCity",this.city)},setAddressDivision(){this.$store.dispatch("Checkout/setCustomerAddressDivision",this.division)},setAddressCountry(){this.$store.dispatch("Checkout/setCustomerAddressCountry",this.country)}}},ye=_e,Ce=(0,l.A)(ye,fe,we,!1,null,"c44a0fd4",null),Pe=Ce.exports,Se=function(){var t=this,e=t._self._c;return e("div",[e("b-row",t._l(t.checkoutProduct,(function(r){return e("b-col",{key:r.productId,attrs:{cols:"6"}},[e("b-card-group",{attrs:{deck:""}},[e("b-card",{staticClass:"mb-4",staticStyle:{"max-width":"14rem"},attrs:{"img-top":""}},[e("b-card-img",{staticStyle:{"max-width":"14rem","max-height":"14rem"},attrs:{src:r.image,alt:"Image Not Found"}}),e("br"),e("b-link",{attrs:{to:{path:`/product/${r.productId}`}}},[t._v(" "+t._s(r.title)+" ")]),e("br"),e("small",{staticClass:"mt-2"},[t._v(" Price: "+t._s(r.amount)+" "+t._s(r.currency)+" ")]),e("br"),e("small",{staticClass:"mt-2"},[t._v("Quantity: "+t._s(r.quantity))]),e("br"),e("small",{staticClass:"mt-2"},[t._v(" Cost: "+t._s(r.amount*r.quantity)+" "+t._s(r.currency)+" ")])],1)],1)],1)})),1),e("b-row",{staticClass:"mt-5"},[e("b-col",{attrs:{cols:"2"}}),e("b-col",{attrs:{cols:"10"}},[0!=t.subTotalAmount?e("b-card",{staticClass:"mt-5"},[e("b-row",[e("b-col",{attrs:{cols:"8"}},[e("h5",[t._v("Sub-Total")])]),e("b-col",{attrs:{cols:"4"}},[e("b-card-text",[t._v(" "+t._s(t.subTotalAmount)+" "+t._s(t.selectedCurrency)+" ")])],1)],1),e("b-row",[e("b-col",{attrs:{cols:"8"}},[e("h5",[t._v("Shipping Rate")])]),e("b-col",{attrs:{cols:"4"}},[e("b-card-text",[t._v(" "+t._s(t.shippingRate)+" "+t._s(t.selectedCurrency)+" ")])],1)],1),e("hr"),e("b-row",[e("b-col",{attrs:{cols:"8"}},[e("h5",[t._v("Total")])]),e("b-col",{attrs:{cols:"4"}},[e("b-card-text",[t._v(" "+t._s(t.totalAmount)+" "+t._s(t.selectedCurrency)+" ")])],1)],1)],1):t._e()],1)],1),e("b-row",[e("b-col",[e("b-alert",{staticClass:"mb-0 mt-5 p-1 pl-2",attrs:{variant:"primary",show:!t.formValidate}},[t._v(" "+t._s(t.message)+" ")])],1)],1),0!=t.subTotalAmount?e("b-row",{staticClass:"mt-4"},[e("b-col",{attrs:{cols:"5"}},[e("b-button",{attrs:{block:"",variant:"warning",to:"/cart-view"}},[t._v("Edit Cart")])],1),e("b-col",{attrs:{cols:"2"}}),e("b-col",[t.payBtnSpin?t._e():e("b-button",{attrs:{block:"",variant:"success"},on:{click:t.checkoutApplied}},[e("b-icon",{attrs:{icon:"cursor-fill"}}),t._v(" Pay Now ")],1),t.payBtnSpin?e("b-button",{attrs:{block:"",variant:"success"}},[t._v(" Processing... "),e("b-spinner",{attrs:{small:"",variant:"light"}})],1):t._e()],1)],1):t._e(),0==t.subTotalAmount?e("b-row",[e("b-col",{staticClass:"text-center"},[e("h4",[t._v("No Product to Buy!!!")])])],1):t._e()],1)},Ie=[],Ae={name:"BuyItem",components:{},data(){return{selectedCurrency:"USD",payBtnSpin:!1,subTotalAmount:0,formValidate:!0,message:"form data is not valid",shippingRate:this.$store.state.Checkout.shippingRate,totalAmount:0,checkoutProduct:null}},computed:{},mounted(){var t;for(this.checkoutProduct=this.$store.state.Cart.cartProducts,t=0;t<this.checkoutProduct.length;t++)this.subTotalAmount+=this.checkoutProduct[t].amount*this.checkoutProduct[t].quantity;this.totalAmount=this.subTotalAmount+this.shippingRate},methods:{async checkoutApplied(){const t=await this.$store.dispatch("Checkout/informationValidate");t?(this.payBtnSpin=!0,setTimeout((()=>{this.$router.push("/success-payment")}),3e3)):this.formValidate=!1}}},Te=Ae,ke=(0,l.A)(Te,Se,Ie,!1,null,"5ab4705c",null),Ne=ke.exports,Ue={name:"Checkout",components:{TopHeader:U,AddressForm:Pe,BuyItem:Ne,MyFooter:$},data(){return{}},computed:{},methods:{}},xe=Ue,Re=(0,l.A)(xe,ve,ge,!1,null,"474dc264",null),Ee=Re.exports,Le=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),t.validParam?e("b-container",[e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"text-center"},[e("h3",[t._v("Online Order Status")])])],1),e("hr"),e("b-row",[e("b-col",{attrs:{cols:"6"}},[e("OrderDetails",{key:t.componentKey,attrs:{orderInfo:t.orderInfo}})],1),e("b-col",{attrs:{cols:"6"}},[e("OrderItems",{key:t.componentKey,attrs:{orderItems:t.orderItems,orderInfo:t.orderInfo}})],1)],1)],1):t._e(),t.validParam?t._e():e("div",[e("InvalidParameter",{attrs:{paramName:"order",pageToNavigate:"Home Page",routerLink:"/"}})],1),e("MyFooter",{staticClass:"mt-5"})],1)},Oe=[],$e=function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",[e("h5",{staticClass:"font-weight-bold"},[t._v("Order Cost")]),e("hr"),e("h6",{staticClass:"font-weight-bold"},[t._v("Product Value")]),t._v(" "+t._s(t.orderInfo.productCost)+" "+t._s(t.orderInfo.currency)+" "),e("hr"),e("h6",{staticClass:"mt-4 font-weight-bold"},[t._v("Shipping Cost")]),t._v(" "+t._s(t.orderInfo.shippingCost)+" "+t._s(t.orderInfo.currency)+" "),e("hr"),e("h6",{staticClass:"mt-4 font-weight-bold"},[t._v("Total Amount")]),t._v(" "+t._s(t.orderInfo.productCost+t.orderInfo.shippingCost)+" "+t._s(t.orderInfo.currency)+" "),e("hr")])],1),e("b-row",{staticClass:"mt-5"},[e("b-col",[e("h5",{staticClass:"font-weight-bold"},[t._v("Customer Details")]),e("hr"),e("h6",{staticClass:"font-weight-bold"},[t._v("Name")]),t._v(" "+t._s(t.orderInfo.name)+" "),e("h6",{staticClass:"mt-4 font-weight-bold"},[t._v("Email")]),t._v(" "+t._s(t.orderInfo.email)+" ")])],1),e("b-row",{staticClass:"mt-5"},[e("b-col",[e("h5",{staticClass:"font-weight-bold"},[t._v("Shipping Address")]),e("hr"),e("div",{domProps:{innerHTML:t._s(t.orderInfo.address)}})])],1)],1)},Me=[],De={name:"OrderDetails",props:{orderInfo:{type:Object,required:!0}},components:{},data(){return{}},mounted(){},methods:{},computed:{}},qe=De,Ve=(0,l.A)(qe,$e,Me,!1,null,"7951af93",null),ze=Ve.exports,Fe=function(){var t=this,e=t._self._c;return e("div",[e("b-row",t._l(t.orderItems,(function(r){return e("b-col",{key:r.id,attrs:{cols:"6"}},[e("b-card-group",{attrs:{deck:""}},[e("b-card",{staticClass:"mb-4",staticStyle:{"max-width":"14rem"},attrs:{"img-top":""}},[e("b-card-img",{staticStyle:{"max-width":"14rem","max-height":"14rem"},attrs:{src:r.Product.image1,alt:"Image Not Found"}}),e("br"),e("b-link",{attrs:{to:{path:`/product/${r.Product.id}`}}},[t._v(" "+t._s(r.Product.title)+" ")]),e("br"),e("small",{staticClass:"mt-2"},[t._v(" Price: "+t._s(r.Product.amount)+" "+t._s(r.Product.currency)+" ")]),e("br"),e("small",{staticClass:"mt-2"},[t._v("Quantity: "+t._s(r.quantity))]),e("br"),e("small",{staticClass:"mt-2"},[t._v(" Cost: "+t._s(r.Product.amount*r.quantity)+" "+t._s(r.Product.currency)+" ")])],1)],1)],1)})),1),e("b-row",[e("b-col",[e("h5",{staticClass:"font-weight-bold"},[t._v("Current State")]),e("hr"),e("b-row",[e("b-col",{attrs:{cols:"5"}},[e("b-button",{attrs:{block:"",variant:t.statusVariant}},[t._v(" "+t._s(t.orderStatus)+" ")])],1)],1)],1)],1)],1)},He=[],Be={name:"OrderItems",props:{orderItems:{type:Array,required:!0},orderInfo:{type:Object,required:!0}},components:{},data(){return{orderStatus:this.orderInfo.status,statusVariant:this.orderInfo.variant}},mounted(){},computed:{},methods:{}},je=Be,Ye=(0,l.A)(je,Fe,He,!1,null,"55f0533e",null),Ke=Ye.exports,Ze={name:"Order",components:{TopHeader:U,InvalidParameter:lt,OrderDetails:ze,OrderItems:Ke,MyFooter:$},data(){return{orderInfo:{},orderItems:[],componentKey:0,validParam:!0}},async mounted(){const t=this.$route.params.sessionId;try{this.orderInfo=(await rt.getOrderBySessionId(t)).data,this.validParam=0!=Object.keys(this.orderInfo).length}catch(e){console.log(e.response.data.error)}try{this.orderItems=(await et.getOrderItemList(this.orderInfo.id)).data,this.componentKey+=1}catch(e){console.log(e.response.data.error)}},computed:{},methods:{}},We=Ze,Ge=(0,l.A)(We,Le,Oe,!1,null,"40b0e373",null),Qe=Ge.exports,Xe=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-4"},[e("b-row",{attrs:{"align-h":"center"}},[e("div",{staticClass:"text-center"},[e("div",{staticStyle:{"font-size":"100px"}},[t._v("404")]),e("h4",[t._v("Page Not Found.")]),e("h6",[t._v("This requested URL is not found on this server.")]),e("a",{attrs:{href:"/"}},[e("b-icon",{attrs:{icon:"arrow-left"}}),t._v("Go back Home")],1)])])],1),e("MyFooter",{staticClass:"mt-5"})],1)},Je=[],tr={name:"NotFound",components:{TopHeader:U,MyFooter:$},data(){return{}},mounted(){},methods:{},computed:{}},er=tr,rr=(0,l.A)(er,Xe,Je,!1,null,"68188c09",null),sr=rr.exports,ar=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-4"},[e("b-row",{attrs:{"align-h":"center"}},[e("div",{staticClass:"text-center"},[e("div",{staticStyle:{"font-size":"100px"}},[t._v("401")]),e("h4",[t._v("Unauthorized")]),e("h6",[t._v("Access to this resource is denied.")]),e("a",{attrs:{href:"/"}},[e("b-icon",{attrs:{icon:"arrow-left"}}),t._v("Go back Home")],1)])])],1),e("MyFooter",{staticClass:"mt-5"})],1)},or=[],ir={name:"Unauthorized",components:{TopHeader:U,MyFooter:$},data(){return{}},mounted(){},methods:{},computed:{}},nr=ir,lr=(0,l.A)(nr,ar,or,!1,null,"7fd10ee2",null),cr=lr.exports,dr=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-5"},[e("FilterComponent"),e("ProductList",{staticClass:"mt-5"})],1),e("MyFooter",{staticClass:"mt-5"})],1)},ur=[],mr=function(){var t=this,e=t._self._c;return e("div",[e("b-row",{attrs:{"align-v":"center"}},[e("div",{staticClass:"ml-3 mb-1"},[t._v("Price Range")]),e("b-col",{attrs:{cols:"2"}},[e("b-form-input",{attrs:{placeholder:"Min"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.priceFilter.apply(null,arguments)}},model:{value:t.minPrice,callback:function(e){t.minPrice=e},expression:"minPrice"}})],1),t._v(" To "),e("b-col",{attrs:{cols:"2"}},[e("b-form-input",{attrs:{placeholder:"Max"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.priceFilter.apply(null,arguments)}},model:{value:t.maxPrice,callback:function(e){t.maxPrice=e},expression:"maxPrice"}})],1),e("b-col",{attrs:{cols:"2"}},[e("b-button",{attrs:{block:"",variant:"outline-info"},on:{click:t.priceFilter}},[e("b-icon-filter"),t._v(" Filter ")],1)],1)],1)],1)},pr=[],hr={name:"FilterComponent",components:{},data(){return{minPrice:null,maxPrice:null}},mounted(){this.minPrice=this.$route.query.lo,this.maxPrice=this.$route.query.hi},computed:{},methods:{priceFilter(){const t=this.$route;var e=t.path;t.query.q&&(e+="?q="+t.query.q),this.minPrice&&(t.query.q&&""!=t.query.q?e+="&":e+="?",e+="lo="+this.minPrice),this.maxPrice&&(t.query.q&&""!=t.query.q||this.minPrice&&""!=this.minPrice?e+="&":e+="?",e+="hi="+this.maxPrice),this.minPrice&&this.maxPrice&&t.query.q&&this.$router.push({path:e})}}},br=hr,vr=(0,l.A)(br,mr,pr,!1,null,"7a2d56e6",null),gr=vr.exports,fr=function(){var t=this,e=t._self._c;return e("div",[e("b-row",t._l(t.displayProducts,(function(r){return e("b-col",{key:r.id,attrs:{cols:"4"}},[e("b-card-group",{attrs:{deck:""}},[e("b-card",{staticClass:"mb-4",staticStyle:{"max-width":"25rem"},attrs:{"img-top":""}},[e("b-card-img",{staticStyle:{"max-width":"25rem","max-height":"25rem"},attrs:{src:r.image1,alt:"Image Not Found"},on:{click:function(e){return t.$router.push({path:`/product/${r.id}`})}}}),e("div",{staticClass:"mt-2"},[e("b-link",{attrs:{to:`/product/${r.id}`}},[t._v(" "+t._s(r.title)+" ")])],1),e("h6",{staticClass:"mt-1"},[t._v(" Price: "+t._s(r.amount)+" "+t._s(r.currency)+" ")]),e("b-row",{staticClass:"mt-2",attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"12"}},[e("b-form-rating",{attrs:{precision:Math.round(r.rating)==r.rating?0:1,size:"sm","show-value":"","show-value-max":"",readonly:"",value:r.rating,variant:"primary"}})],1)],1),e("div",{staticClass:"d-flex justify-content-between"},[e("AddToCart",{key:t.cartComponentKey,staticClass:"mt-2",attrs:{addButtonTitle:"Add To Cart",addedButtonTitle:"In Cart",buttonType:"sm",productId:r.id,rating:r.rating,currency:r.currency,image:r.image1,title:r.title,amount:r.amount}})],1),t.admin?e("b-button",{staticClass:"mt-2",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.deleteProduct(r)}}},[e("b-icon",{attrs:{icon:"trash"}}),t._v(" Delete ")],1):t._e()],1)],1)],1)})),1),0==this.apCount?e("b-row",{staticClass:"mt-3 mb-5"},[e("b-col",[e("h2",[t._v("...")])])],1):t._e(),0!=this.apCount?e("b-row",{staticClass:"mt-3",attrs:{"align-v":"center"}},[e("b-col",[e("b-pagination",{attrs:{size:"","total-rows":t.apCount,"per-page":t.perPage},on:{input:function(e){return t.paginate(t.currentPage)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),e("b-col"),e("b-col",[e("h6",[t._v(" SHOWING "+t._s((t.currentPage-1)*t.perPage+1)+" TO "+t._s(t.currentPage*t.perPage>t.apCount?t.apCount:t.currentPage*t.perPage)+" OF "+t._s(t.apCount)+" ("+t._s(Math.ceil(t.apCount/t.perPage))+" PAGES) ")])])],1):t._e()],1)},wr=[],_r=function(){var t=this,e=t._self._c;return e("div",[-1!=t.validCartItem?e("b-dropdown",{attrs:{id:"cart-dd",size:t.buttonType,variant:"info"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("b-icon",{attrs:{scale:"1.2",icon:"cart-check-fill"}}),t._v(" "+t._s(t.addedButtonTitle)+" ")]},proxy:!0}],null,!1,1214724872)},[e("b-dropdown-item",{on:{click:t.removeCartItem}},[t._v(" Remove from Cart ")])],1):t._e(),-1==t.validCartItem?e("b-button",{attrs:{size:t.buttonType,variant:"outline-info"},on:{click:t.addToCart}},[e("b-icon",{attrs:{scale:"1.2",icon:"cart-plus-fill"}}),t._v(" "+t._s(t.addButtonTitle)+" ")],1):t._e()],1)},yr=[],Cr={name:"AddToCart",props:{addButtonTitle:{default:"",type:String},addedButtonTitle:{default:"",type:String},buttonType:String,productId:Number,currency:String,rating:Number,image:String,title:String,amount:Number},computed:{},data(){return{validCartItem:-1}},async mounted(){this.validCartItem=await this.$store.dispatch("Cart/getCartItem",this.productId)},methods:{async addToCart(){const t={productId:this.productId,title:this.title,image:this.image,rating:this.rating,currency:this.currency,amount:this.amount,quantity:1};this.validCartItem=await this.$store.dispatch("Cart/addToCart",t),-1!=this.validCartItem&&this.$bvToast.toast("Product added to cart",{title:"Cart",variant:"primary",toaster:"b-toaster-top-center",noCloseButton:!1,solid:!0})},async removeCartItem(){this.validCartItem=await this.$store.dispatch("Cart/removeCartItem",this.productId),-1==this.validCartItem&&this.$bvToast.toast("Product removed from cart",{title:"Cart",variant:"primary",toaster:"b-toaster-top-center",noCloseButton:!1,solid:!0})}}},Pr=Cr,Sr=(0,l.A)(Pr,_r,yr,!1,null,"13dd90d6",null),Ir=Sr.exports,Ar={name:"ProductList",props:{},components:{AddToCart:Ir},data(){return{admin:!1,currentPage:1,cartComponentKey:2}},computed:{...(0,u.aH)({displayProducts:t=>t.Products.displayProducts,apCount:t=>t.Products.apCount,perPage:t=>t.Products.perPage})},mounted(){this.admin=this.$store.state.CurrentUser.admin},methods:{refreshCartBtn(){this.cartComponentKey+=1},async deleteProduct(t){await b.deleteProduct(t.id),await this.$store.dispatch("Products/setAllBackupProducts"),window.location.reload()},async paginate(t){await this.$store.dispatch("Products/paginate",t),this.refreshCartBtn()}}},Tr=Ar,kr=(0,l.A)(Tr,fr,wr,!1,null,"5551793a",null),Nr=kr.exports,Ur={name:"Products",components:{TopHeader:U,FilterComponent:gr,ProductList:Nr,MyFooter:$},data(){return{}},computed:{},async mounted(){await this.$store.dispatch("Products/setSearchParameter",this.$route),await this.$store.dispatch("Products/setAllProducts")},methods:{}},xr=Ur,Rr=(0,l.A)(xr,dr,ur,!1,null,"9619e296",null),Er=Rr.exports,Lr=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-5"},[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{staticClass:"text-center",attrs:{cols:"6"}},[e("b-card",{attrs:{"border-variant":"primary",header:"Payment Succeeded","header-bg-variant":"primary","header-text-variant":"white",align:"center"}},[e("b-button",{attrs:{size:"lg",disabled:"",variant:"primary"}},[e("b-icon",{attrs:{icon:"check",scale:"3"}})],1),e("h1",{staticClass:"mt-4"},[t._v("You're all set!")]),e("h6",[t._v("Thanks for your purchase!")]),e("h6",[t._v("We'll deliver your order in few days.")]),e("b-card-footer",{staticClass:"mt-4"},[t._v("Phone Shop ")])],1)],1)],1)],1),e("MyFooter",{staticClass:"mt-5"})],1)},Or=[],$r={name:"SuccessPayment",components:{TopHeader:U,MyFooter:$},data(){return{order:{},session:{},validSession:!1}},async mounted(){this.$store.dispatch("Cart/clearCart");const t=this.session.line_items.data,e=t[t.length-1].amount_total;try{this.order=(await rt.createOrder({name:this.session.metadata.customerName,email:this.session.customer_email,address:this.session.metadata.shippingAddress,status:"paid",variant:"dark",productCost:(this.session.amount_total-e)/100,currency:this.session.currency.toUpperCase(),shippingCost:e/100})).data}catch(r){console.log(r.response.data.error)}}},Mr=$r,Dr=(0,l.A)(Mr,Lr,Or,!1,null,"1653def4",null),qr=Dr.exports,Vr=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),t.validParam?e("div",[e("b-container",{staticClass:"mt-5"},[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"5"}},[e("b-row",{attrs:{"align-h":"center"}},[e("b-img",{staticClass:"mb-2",attrs:{fluid:"",src:t.current_image,alt:"Image Not Found"}})],1),e("b-row",{staticClass:"justify-content-left"},[e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image1},on:{click:function(e){return t.changeImage(t.displayProduct.image1)}}}),e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image2},on:{click:function(e){return t.changeImage(t.displayProduct.image2)}}}),e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image3},on:{click:function(e){return t.changeImage(t.displayProduct.image3)}}}),e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image4},on:{click:function(e){return t.changeImage(t.displayProduct.image4)}}}),e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image5},on:{click:function(e){return t.changeImage(t.displayProduct.image5)}}}),e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image6},on:{click:function(e){return t.changeImage(t.displayProduct.image6)}}}),e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image7},on:{click:function(e){return t.changeImage(t.displayProduct.image7)}}}),e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image8},on:{click:function(e){return t.changeImage(t.displayProduct.image8)}}}),e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image9},on:{click:function(e){return t.changeImage(t.displayProduct.image9)}}}),e("b-img",{staticClass:"mr-1 mb-1",attrs:{height:"90px",src:t.displayProduct.image10},on:{click:function(e){return t.changeImage(t.displayProduct.image10)}}})],1)],1),e("b-col",{attrs:{cols:"5"}},[e("div",[e("h3",[t._v(" "+t._s(t.displayProduct.title)+" ")]),e("h5",[e("b",[t._v("Price : ")]),t._v(t._s(t.displayProduct.amount)+" "+t._s(t.displayProduct.currency)+" ")]),e("div",{domProps:{innerHTML:t._s(t.displayProduct.subtitle)}}),e("div",{staticClass:"mt-4"},[e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"7"}},[e("b-form-rating",{attrs:{precision:Math.round(t.displayProduct.rating)==t.displayProduct.rating?0:1,readonly:"","show-value-max":"","show-value":"",value:t.displayProduct.rating,variant:"primary"}})],1)],1)],1),e("div",{staticClass:"d-flex justify-content-left mt-3"},[e("AddToCart",{key:t.cartComponentKey,attrs:{buttonType:"sm",addButtonTitle:"Add To Cart",addedButtonTitle:"In Cart",productId:t.displayProduct.id,rating:t.displayProduct.rating,currency:t.displayProduct.currency,image:t.displayProduct.image1,title:t.displayProduct.title,amount:t.displayProduct.amount}})],1),e("b-row",[e("b-col",{attrs:{cols:"8"}},[e("b-button",{staticClass:"mt-3",attrs:{size:"lg",variant:"success",block:""},on:{click:t.buyNow}},[e("b-icon-cart-fill"),t._v(" Buy Now ")],1)],1)],1)],1)])],1),e("div",{staticClass:"mt-5 p-4",staticStyle:{"background-color":"#eeeeee"}}),e("Review",{staticClass:"mt-3"})],1)],1):t._e(),t.validParam?t._e():e("div",[e("InvalidParameter",{attrs:{paramName:"product",pageToNavigate:"Products Page",routerLink:"/products"}})],1),e("MyFooter",{staticClass:"mt-5"})],1)},zr=[],Fr=function(){var t=this,e=t._self._c;return e("div",[e("b-row",{attrs:{"align-v":"center"}},[e("b-col"),e("b-col",{staticClass:"text-center",attrs:{cols:"4"}},[e("b-card",{staticClass:"py-4"},[e("br"),e("strong",[e("span",[t._v(t._s(t.averageRating))]),e("span",[t._v("/5")])]),e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{cols:"2"}}),e("b-col",{attrs:{cols:"8"}},[e("b-form-rating",{attrs:{readonly:"",value:t.averageRating,variant:"primary"}})],1),e("b-col",{attrs:{cols:"2"}})],1),e("h6",{staticClass:"mt-2"},[t._v(" "+t._s(t.ratingCount)+" "+t._s(t.ratingCount>=1?"rating":"ratings")+" & "+t._s(t.commentCount)+" "+t._s(t.commentCount>=1?"comment":"comments")+" ")]),e("br")],1)],1),e("b-col",{staticClass:"justify-content-center",attrs:{cols:"4"}},[e("b-row",{staticClass:"my-2",attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"2"}},[e("small",[t._v("5 star")])]),e("b-col",{attrs:{cols:"7"}},[e("b-progress",{attrs:{variant:"primary"}},[e("b-progress-bar",{attrs:{value:t.fiveStarPercent,label:`${t.fiveStar}`}})],1)],1),e("b-col",{attrs:{cols:"3"}},[e("small",[t._v(t._s(t.fiveStarPercent)+" "),e("b-icon",{attrs:{icon:"percent"}})],1)])],1),e("b-row",{staticClass:"my-2",attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"2"}},[e("small",[t._v("4 star")])]),e("b-col",{attrs:{cols:"7"}},[e("b-progress",{attrs:{variant:"primary"}},[e("b-progress-bar",{attrs:{value:t.fourStarPercent,label:`${t.fourStar}`}})],1)],1),e("b-col",{attrs:{cols:"3"}},[e("small",[t._v(" "+t._s(t.fourStarPercent)+" "),e("b-icon",{attrs:{icon:"percent"}})],1)])],1),e("b-row",{staticClass:"my-2",attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"2"}},[e("small",[t._v("3 star")])]),e("b-col",{attrs:{cols:"7"}},[e("b-progress",{attrs:{variant:"primary"}},[e("b-progress-bar",{attrs:{value:t.threeStarPercent,label:`${t.threeStar}`}})],1)],1),e("b-col",{attrs:{cols:"3"}},[e("small",[t._v(t._s(t.threeStarPercent)+" "),e("b-icon",{attrs:{icon:"percent"}})],1)])],1),e("b-row",{staticClass:"my-2",attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"2"}},[e("small",[t._v("2 star")])]),e("b-col",{attrs:{cols:"7"}},[e("b-progress",{attrs:{variant:"primary"}},[e("b-progress-bar",{attrs:{value:t.twoStarPercent,label:`${t.twoStar}`}})],1)],1),e("b-col",{attrs:{cols:"3"}},[e("small",[t._v(t._s(t.twoStarPercent)+" "),e("b-icon",{attrs:{icon:"percent"}})],1)])],1),e("b-row",{staticClass:"my-2",attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"2"}},[e("small",[t._v("1 star")])]),e("b-col",{attrs:{cols:"7"}},[e("b-progress",{attrs:{variant:"primary"}},[e("b-progress-bar",{attrs:{value:t.oneStarPercent,label:`${t.oneStar}`}})],1)],1),e("b-col",{attrs:{cols:"3"}},[e("small",[t._v(t._s(t.oneStarPercent)+" "),e("b-icon",{attrs:{icon:"percent"}})],1)])],1)],1),e("b-col")],1),e("hr"),e("b-row",[e("b-col",{attrs:{cols:"6"}},[e("h4",[t._v("Customer Review")]),e("hr"),t._l(t.reviewList2,(function(r){return e("div",{key:r.id,staticClass:"mb-2"},[null!=r.comment&&r.UserId!=t.userId?e("b-card",{attrs:{"bg-variant":"white","text-variant":"dark"}},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-img",{attrs:{src:r.User.profileImage,height:"60px",width:"60px"}}),e("div",{staticClass:"mt-3"},[e("b-link",[t._v(" "+t._s(r.User.firstName+" "+r.User.lastName)+" ")])],1)],1),e("b-col",{attrs:{cols:"9"}},[e("b-row",[e("b-col",{attrs:{cols:"7"}},[e("b-form-rating",{attrs:{readonly:"",value:r.rating,variant:"primary"}})],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("p",[t._v(t._s(r.comment))])])],1),e("b-row",[e("b-col",[e("small",{staticClass:"mr-2"},[t.userId==r.UserId?e("b-link",{on:{click:function(e){return t.editReview(r)}}},[t._v(" edit ")]):t._e()],1),e("small",[t.userId==r.UserId||t.admin?e("b-link",{on:{click:function(e){return t.deleteReview(r)}}},[t._v(" delete ")]):t._e()],1)])],1)],1)],1)],1):t._e()],1)})),t.reviews>t.perPage?e("b-pagination",{attrs:{size:"md","total-rows":t.reviews,"per-page":t.perPage},on:{input:function(e){return t.paginate(t.currentPage)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],2),e("b-col",{attrs:{cols:"6"}},[t.userReviewFlag?e("b-card",{attrs:{"bg-variant":"white","text-variant":"dark"}},[e("b-card-title",[t._v(" Your Review ")]),e("b-row",[e("b-col",{attrs:{cols:"4"}},[e("b-img",{attrs:{src:t.currentUserReview.User.profileImage,height:"90px",width:"90px"}}),e("div",{staticClass:"mt-2"},[e("b-link",[t._v(" "+t._s(t.currentUserReview.User.firstName+" "+t.currentUserReview.User.lastName)+" ")])],1)],1),e("b-col",{attrs:{cols:"8"}},[e("b-row",[e("b-col",{attrs:{cols:"7"}},[e("b-form-rating",{attrs:{readonly:"",value:t.currentUserReview.rating,variant:"primary"}})],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("p",[t._v(t._s(t.currentUserReview.comment))])])],1),e("b-row",[e("b-col",[e("small",{staticClass:"mr-2"},[e("b-link",{on:{click:function(e){return t.editReview(t.currentUserReview)}}},[t._v(" edit ")])],1),e("small",[e("b-link",{on:{click:function(e){return t.deleteReview(t.currentUserReview)}}},[t._v(" delete ")])],1)])],1)],1)],1)],1):t._e(),t.userReviewFlag?t._e():e("b-card",[e("div",{staticClass:"mt-2 ml-3"},[e("a",{attrs:{variant:"primary"}},[e("b-icon-pen"),t._v(" "),e("strong",[t._v("Write a review")])],1)]),e("hr"),t.userLoggedIn?e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.createReview.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{cols:"5"}},[e("h6",[t._v("Rating")]),e("b-form-rating",{attrs:{variant:"primary"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1)],1),e("div",{staticClass:"mt-4"},[t._v("Comment")]),e("b-form-group",[e("b-form-textarea",{attrs:{required:"",placeholder:"Write a review",rows:"3","max-rows":"8"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),e("b-button",{attrs:{variant:"primary",type:"submit"}},[t._v(" Submit ")])],1):t._e(),t.userLoggedIn?t._e():e("div",[t._v(" You'll not be able to write a review until you're logged in. "),e("b-row",[e("b-col",[e("b-button",{staticClass:"mt-3",attrs:{to:"/login",variant:"outline-dark"}},[t._v(" Login ")])],1)],1)],1)],1)],1)],1),t.userLoggedIn?e("b-modal",{attrs:{"hide-footer":"",id:"editReviewModal",title:"Write a review"}},[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updateReview.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{cols:"5"}},[e("h6",[t._v("Rating")]),e("b-form-rating",{attrs:{variant:"primary"},model:{value:t.editRating,callback:function(e){t.editRating=e},expression:"editRating"}})],1)],1),e("div",{staticClass:"mt-4"},[t._v("Comment")]),e("b-form-group",[e("b-form-textarea",{attrs:{placeholder:"Write a review",rows:"3",required:"","max-rows":"10"},model:{value:t.editComment,callback:function(e){t.editComment=e},expression:"editComment"}})],1),e("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v(" Submit ")])],1)],1):t._e()],1)},Hr=[],Br={name:"Review",components:{},data(){return{zeroStar:0,zeroStarPercent:0,oneStar:0,oneStarPercent:0,twoStar:0,twoStarPercent:0,threeStar:0,threeStarPercent:0,fourStar:0,fourStarPercent:0,fiveStar:0,fiveStarPercent:0,ratingCount:0,averageRating:0,commentCount:0,currentUserReview:{},userReviewFlag:!1,userId:0,admin:!1,userLoggedIn:!1,rating:0,comment:"",reviewEditing:{},editRating:0,editComment:"",productId:0,currentPage:1,perPage:3,reviews:0,productRating:{},reviewList:[],reviewList2:[]}},async mounted(){this.userId=this.$store.state.CurrentUser.userId,this.admin=this.$store.state.CurrentUser.admin,this.userLoggedIn=this.$store.state.CurrentUser.userLoggedIn,this.productId=parseInt(this.$route.params.productId);try{this.productRating=(await b.getProductRating(this.productId)).data}catch(e){console.log(e.response.data.error)}try{if(this.reviewList=(await v.getReviewList(this.productId)).data,this.reviewList){this.reviews=this.reviewList.length;const t=0;this.reviewList2=this.reviewList.slice(t,t+this.perPage)}}catch(e){console.log(e.response.data.error)}var t;for(t=0;t<this.reviewList.length;t++)""!=this.reviewList[t].comment&&this.commentCount++,0==this.reviewList[t].rating?this.zeroStar++:1==this.reviewList[t].rating?this.oneStar++:2==this.reviewList[t].rating?this.twoStar++:3==this.reviewList[t].rating?this.threeStar++:4==this.reviewList[t].rating?this.fourStar++:5==this.reviewList[t].rating&&this.fiveStar++,this.reviewList[t].UserId==this.userId&&(this.currentUserReview=this.reviewList[t]),this.userReviewFlag=0!=Object.keys(this.currentUserReview).length,this.reviewList[t].mode||(this.reviewList[t].mode=0);this.ratingCount=this.oneStar+this.twoStar+this.threeStar+this.fourStar+this.fiveStar,0!=this.ratingCount&&(this.averageRating=Math.round(10*(5*this.fiveStar+4*this.fourStar+3*this.threeStar+2*this.twoStar+1*this.oneStar)/this.ratingCount)/10,this.oneStarPercent=Math.round(100*this.oneStar/this.ratingCount),this.twoStarPercent=Math.round(100*this.twoStar/this.ratingCount),this.threeStarPercent=Math.round(100*this.threeStar/this.ratingCount),this.fourStarPercent=Math.round(100*this.fourStar/this.ratingCount),this.fiveStarPercent=Math.round(100*this.fiveStar/this.ratingCount))},methods:{paginate(t){const e=(t-1)*this.perPage;this.reviewList2=this.reviewList.slice(e,e+this.perPage)},async createReview(){await this.$store.dispatch("Review/createReview",{rating:this.rating,comment:this.comment,productId:this.productId,productRating:this.productRating}),await this.$store.dispatch("Products/setAllBackupProducts"),window.location.reload()},editReview(t){this.editRating=t.rating,this.editComment=t.comment,this.reviewEditing=t,this.$bvModal.show("editReviewModal")},async updateReview(){this.$bvModal.hide("editReviewModal"),await this.$store.dispatch("Review/updateReview",{review:this.reviewEditing,newRating:this.editRating,newComment:this.editComment}),await this.$store.dispatch("Products/setAllBackupProducts"),window.location.reload()},async deleteReview(t){this.userLoggedIn&&(await this.$store.dispatch("Review/deleteReview",t),await this.$store.dispatch("Products/setAllBackupProducts"),window.location.reload())}}},jr=Br,Yr=(0,l.A)(jr,Fr,Hr,!1,null,"24c256ac",null),Kr=Yr.exports,Zr={name:"ProductDetails",components:{TopHeader:U,AddToCart:Ir,InvalidParameter:lt,Review:Kr,MyFooter:$},data(){return{current_image:"",user:{},componentKey:0,validParam:!0,cartComponentKey:4,recommendationKey:2,displayProduct:{}}},async mounted(){this.user=this.$store.state.CurrentUser.user;const t=parseInt(this.$route.params.productId);try{this.displayProduct=(await b.getProduct(t)).data,this.validParam=0!=Object.keys(this.displayProduct).length,this.forceRerender(),this.current_image=this.displayProduct.image1}catch(e){console.log(e.response.data.error)}},computed:{},methods:{forceRerender(){this.componentKey+=1,this.cartComponentKey+=1,this.recommendationKey+=1},changeImage(t){this.current_image=t},async buyNow(){const t={productId:this.displayProduct.id,title:this.displayProduct.title,image:this.displayProduct.image1,rating:this.displayProduct.rating,currency:this.displayProduct.currency,amount:this.displayProduct.amount,quantity:1};await this.$store.dispatch("Cart/addToCart",t),this.$router.push({path:"/checkout"})}}},Wr=Zr,Gr=(0,l.A)(Wr,Vr,zr,!1,null,"0ff902b8",null),Qr=Gr.exports,Xr=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-5"},[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"10",md:"7",lg:"5"}},[e("b-card",{staticStyle:{color:"#001e5f"}},[e("h4",{staticClass:"font-weight-bold"},[t._v("Login")]),e("b-form",{staticClass:"mt-4",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.login.apply(null,arguments)}}},[e("b-form-group",{attrs:{id:"input-group-email",label:"Email","label-for":"input-email"}},[e("b-form-input",{ref:"emailField",attrs:{id:"input-email",type:"email",state:t.emailValidation,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("b-form-invalid-feedback",{attrs:{state:t.emailValidation}},[t._v(" "+t._s(t.invalidEmailMessage)+" ")])],1),e("b-form-group",{attrs:{id:"input-group-password",label:"Password","label-for":"input-password"}},[e("b-form-input",{attrs:{id:"input-password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("b-alert",{staticClass:"my-2 p-1 pl-2",attrs:{variant:"primary",show:t.loginAlert}},[t._v(" "+t._s(t.loginMessage)+" ")]),e("b-row",[e("b-col",{attrs:{cols:"3"}}),e("b-col",{attrs:{cols:"6"}},[e("b-button",{staticClass:"p-2 mt-2",attrs:{block:"",type:"submit",variant:"warning"}},[t._v(" Login ")])],1),e("b-col",{attrs:{cols:"3"}})],1)],1),e("hr"),e("b-row",[e("b-col",{staticClass:"text-center"},[t._v(" New Customer?  "),e("b-link",{attrs:{to:"/register"}},[t._v("Create your account")])],1)],1)],1)],1)],1)],1),e("MyFooter",{staticClass:"mt-5"})],1)},Jr=[],ts={name:"Login",components:{TopHeader:U,MyFooter:$},data(){return{email:null,password:null,emailValidation:null,invalidEmailMessage:"",loginMessage:null,loginAlert:!1}},mounted(){this.$refs.emailField.focus()},methods:{async login(){try{const t=(await Ot.login({email:this.email,password:this.password})).data;this.$store.dispatch("CurrentUser/setToken",t.token),this.$store.dispatch("CurrentUser/setUser",t.user),this.$router.push({path:"/admin"})}catch(t){this.loginAlert=!0,this.loginMessage=t.response.data.error}}}},es=ts,rs=(0,l.A)(es,Xr,Jr,!1,null,"7bce050b",null),ss=rs.exports,as=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-4"},[0!=t.userId?e("div",[e("b-tabs",{attrs:{"nav-wrapper-class":"w-25",vertical:"",pills:"",card:""}},[e("b-tab",{attrs:{title:"Profile",active:""}},[e("UPublicProfile")],1),e("b-tab",{attrs:{lazy:"",title:"Reviews"}},[e("UReviews")],1),e("b-tab",{attrs:{lazy:"",title:"Account"}},[e("UAccount")],1)],1)],1):t._e(),0==t.userId?e("div",{staticClass:"mt-5"},[e("br"),e("br"),e("br"),t._v(" User not found... "),e("br"),e("br"),e("br"),e("br"),e("br")]):t._e()]),e("MyFooter",{staticClass:"mt-5"})],1)},os=[],is={name:"Profile",components:{TopHeader:U,UPublicProfile:Vt,UReviews:Yt,UAccount:Xt,MyFooter:$},data(){return{userId:0}},mounted(){this.userId=this.$store.state.CurrentUser.userId},methods:{}},ns=is,ls=(0,l.A)(ns,as,os,!1,null,"1810586e",null),cs=ls.exports,ds=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-5"},[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"7"}},[e("b-card",{staticStyle:{color:"#001e5f"}},[e("h4",{staticClass:"font-weight-bold"},[t._v("Create Account")]),e("b-form",{staticClass:"mt-4",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.createAccount.apply(null,arguments)}}},[e("b-row",[e("b-col",[e("b-form-group",{attrs:{id:"input-group-first-name",label:"First Name","label-for":"input-first-name"}},[e("b-form-input",{ref:"firstNameField",attrs:{id:"input-first-name",type:"text",state:t.firstNameValidation,required:""},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),t.firstName?e("b-form-invalid-feedback",{attrs:{state:t.firstNameValidation}},[t._v(" Your first name could be 15 character long. ")]):t._e()],1)],1),e("b-col",[e("b-form-group",{attrs:{id:"input-group-last-name",label:"Last Name","label-for":"input-last-name"}},[e("b-form-input",{attrs:{id:"input-last-name",type:"text",state:t.lastNameValidation,required:""},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),t.lastName?e("b-form-invalid-feedback",{attrs:{state:t.lastNameValidation}},[t._v(" Your last name could be 15 character long. ")]):t._e()],1)],1)],1),e("b-form-group",{attrs:{id:"input-group-email",label:"Email","label-for":"input-email"}},[e("b-form-input",{attrs:{id:"input-email",type:"email",state:t.validEmail&&t.emailValidation,required:""},on:{keyup:function(e){t.validEmail=!0}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t.email?e("b-form-invalid-feedback",{attrs:{state:t.validEmail&&t.emailValidation}},[t._v(" "+t._s(t.emailMessage)+" ")]):t._e()],1),e("b-row",[e("b-col",[e("b-form-group",{attrs:{id:"input-group-password",label:"Password","label-for":"input-password"}},[e("b-form-input",{attrs:{id:"input-password",type:"password",state:t.newPasswordValidation,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.password?e("b-form-invalid-feedback",{attrs:{state:t.newPasswordValidation}},[t._v(" Your password could be 8-32 character long, contain letters, numbers and must not contain space. ")]):t._e()],1)],1),e("b-col",[e("b-form-group",{attrs:{id:"input-group-confirm-password",label:"Confirm Password","label-for":"input-confirm-password"}},[e("b-form-input",{attrs:{id:"input-confirm-password",type:"password",state:t.confirmPasswordValidation,required:""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),t.confirmPassword?e("b-form-invalid-feedback",{attrs:{state:t.confirmPasswordValidation}},[t._v(" Password didn't match ")]):t._e()],1)],1)],1),e("b-row",{staticClass:"mt-3"},[e("b-col",{attrs:{cols:"3"}}),e("b-col",{attrs:{cols:"6"}},[e("b-button",{staticClass:"p-2",attrs:{block:"",type:"submit",variant:"warning"}},[t._v(" Create Account ")])],1),e("b-col",{attrs:{cols:"3"}})],1)],1),e("hr"),e("b-row",[e("b-col",{staticClass:"text-center"},[e("a",[t._v("Already have an account?")]),e("a",{attrs:{href:"/login"}},[t._v(" Log in")])])],1)],1)],1)],1)],1),e("MyFooter",{staticClass:"mt-5"})],1)},us=[],ms={name:"Register",components:{TopHeader:U,MyFooter:$},data(){return{firstName:null,lastName:null,email:null,formatName:/^.{1,15}$/,formatEmail:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,formatPassword:/^[a-zA-z0-9]{8,32}$/,password:null,validEmail:!0,confirmPassword:null,emailMessage:null}},mounted(){this.$refs.firstNameField.focus()},computed:{tokenAlert(){return null==this.message?null:0!=this.message.length},firstNameValidation(){return null==this.firstName?null:!!this.formatName.test(this.firstName)},lastNameValidation(){return null==this.lastName?null:!!this.formatName.test(this.lastName)},emailValidation(){return null==this.email?null:!!this.formatEmail.test(this.email)},newPasswordValidation(){return null==this.password?null:!!this.formatPassword.test(this.password)},confirmPasswordValidation(){return null==this.confirmPassword?null:!(this.confirmPassword!=this.password||!this.formatPassword.test(this.confirmPassword))}},methods:{async createAccount(){if(this.firstNameValidation&&this.lastNameValidation&&this.emailValidation&&this.newPasswordValidation&&this.confirmPasswordValidation)try{const t=await Ot.register({firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password}),e=(await Ot.login({email:this.email,password:this.password})).data;this.$store.dispatch("CurrentUser/setNewUserId",t.id),this.$store.dispatch("CurrentUser/setNewUserEmail",this.email),this.$store.dispatch("CurrentUser/setToken",e.token),this.$store.dispatch("CurrentUser/setUser",e.user),this.$router.push({path:"/profile"})}catch(t){this.validEmail=!1,this.emailMessage=t.response.data.error}}}},ps=ms,hs=(0,l.A)(ps,ds,us,!1,null,"ac50b9ea",null),bs=hs.exports,vs=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-5"},[e("b-row",{staticClass:"ml-5"},[e("b-col",{attrs:{cols:"10",md:"8",lg:"6"}},[t.tokenValidate?t._e():e("b-card",[e("h5",{staticClass:"text-center"},[e("strong",[t._v("Reset your password")])]),e("b-alert",{staticClass:"mt-4",attrs:{variant:"warning",show:""}},[e("small",[t._v(" It looks like you clicked on an invalid password reset link. "),e("br"),e("b-link",{attrs:{to:"/login"}},[t._v(" Login here "),e("b-icon",{attrs:{icon:"arrow-right"}})],1)],1)])],1),t.tokenValidate?e("b-card",{staticStyle:{color:"#001e5f"}},[e("h4",{staticClass:"font-weight-bold"},[t._v("Change password for "+t._s(t.email))]),e("b-form",{staticClass:"mt-4",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.passwordReset.apply(null,arguments)}}},[e("b-form-group",{staticClass:"font-weight-bold",attrs:{id:"input-group-password",label:"New password","label-for":"input-password"}},[e("b-form-input",{attrs:{id:"input-password",type:"password",required:"",state:t.newPasswordValidation},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),t.newPassword?e("b-form-invalid-feedback",{attrs:{state:t.newPasswordValidation}},[t._v(" Your password could be 8-32 character long, contain letters, numbers and must not contain space. ")]):t._e()],1),e("b-form-group",{staticClass:"font-weight-bold",attrs:{id:"input-group-2-password",label:"Confirm password","label-for":"input-2-password"}},[e("b-form-input",{attrs:{id:"input-2-password",type:"password",required:"",state:t.confirmPasswordValidation},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),t.confirmPassword?e("b-form-invalid-feedback",{attrs:{state:t.confirmPasswordValidation}},[t._v(" Password didn't match ")]):t._e()],1),e("b-row",[e("b-col",{attrs:{cols:"6"}},[e("b-button",{staticClass:"p-2 mt-2 font-weight-bold",attrs:{block:"",type:"submit",variant:"warning"}},[t._v(" Submit ")])],1)],1)],1)],1):t._e()],1)],1)],1),e("MyFooter",{staticClass:"mt-5"})],1)},gs=[],fs={name:"ResetPassword",components:{TopHeader:U,MyFooter:$},data(){return{userId:null,emailResetPassword:null,mailSent:!1,name:null,email:null,newPassword:null,formatPassword:/^[a-zA-z0-9]{8,32}$/,confirmPassword:null,tokenValidate:!0}},computed:{newPasswordValidation(){return null==this.newPassword?null:!!this.formatPassword.test(this.newPassword)},confirmPasswordValidation(){return null==this.confirmPassword?null:!(this.confirmPassword!=this.newPassword||!this.formatPassword.test(this.confirmPassword))}},async mounted(){const t=this.$route.params.token;try{const e=(await Ot.verifyPasswordToken(t)).data;this.userId=e.id,this.name=e.firstName+" "+e.lastName,this.email=e.email}catch(e){this.tokenValidate=!1,console.log(e.response.data.error)}},methods:{async passwordReset(){if(this.newPasswordValidation&&this.confirmPasswordValidation){try{await Ot.resetPassword({id:this.userId,email:this.email,name:this.name,password:this.newPassword})}catch(t){console.log(t.response.data.error)}try{const t=await Ot.login({email:this.email,password:this.newPassword});this.$store.dispatch("CurrentUser/setToken",t.data.token),this.$store.dispatch("CurrentUser/setUser",t.data.user),this.$router.push({path:"/"})}catch(t){console.log(t.response.data.error)}}}}},ws=fs,_s=(0,l.A)(ws,vs,gs,!1,null,"76964df9",null),ys=_s.exports,Cs=function(){var t=this,e=t._self._c;return e("div",[e("TopHeader"),e("b-container",{staticClass:"mt-3"},[e("b-row",[e("b-col",{staticClass:"text-center"},[e("h2",[t._v("Cart")]),e("hr")])],1),0==t.cartItemCount?e("b-row",[e("b-col",[t._v(" empty cart!!! "),e("hr")])],1):t._e(),0!=t.cartItemCount?e("div",[e("b-row",[e("b-col",{attrs:{cols:"3"}}),e("b-col",{attrs:{cols:"3"}},[e("strong",[t._v("Item")])]),e("b-col",{attrs:{cols:"2"}},[e("strong",[t._v("Price")])]),e("b-col",{attrs:{cols:"4"}},[e("strong",[t._v("Quantity")])])],1),e("hr")],1):t._e(),t._l(t.cartProducts,(function(r){return e("div",{key:r.productId},[e("b-row",[e("b-col",{staticClass:"text-center",attrs:{cols:"3"}},[e("b-img",{staticStyle:{"max-width":"66%"},attrs:{src:r.image,alt:"No Image"}})],1),e("b-col",{attrs:{cols:"3"}},[e("b-link",{attrs:{to:`/product/${r.productId}`}},[t._v(" "+t._s(r.title)+" ")]),e("b-row",{staticClass:"mt-2",attrs:{"align-v":"center"}},[e("b-col",[e("b-form-rating",{attrs:{precision:Math.round(r.rating)==r.rating?0:1,size:"sm",readonly:"","show-value":"","show-value-max":"",value:r.rating,variant:"primary"}})],1)],1)],1),e("b-col",{attrs:{cols:"2"}},[t._v(" "+t._s(r.amount*r.quantity)+" "+t._s(r.currency))]),e("b-col",{attrs:{cols:"4"}},[e("div",[e("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.quantityInc(r)}}},[t._v("+ ")]),e("a",{staticClass:"ml-4"},[t._v(t._s(r.quantity))]),e("b-button",{staticClass:"ml-4",attrs:{size:"sm",variant:"warning"},on:{click:function(e){return t.quantityDec(r)}}},[t._v("- ")]),e("b-button",{staticClass:"ml-5",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.removeCartItem(r)}}},[t._v(" remove ")])],1)])],1),e("hr")],1)})),0!=t.cartItemCount?e("div",[e("b-row",{staticClass:"mb-3"},[e("b-col",{attrs:{cols:"10"}}),e("b-col",{attrs:{cols:"2"}},[e("b-card",[e("b-card-title",[t._v("Total")]),e("b-card-text",[t._v(t._s(t.totalAmount)+" "+t._s(t.selectedCurrency))])],1)],1)],1),e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("b-button",{attrs:{block:"",variant:"info",to:"/products"}},[t._v("Add More")])],1),e("b-col",{attrs:{cols:"8"}}),e("b-col",{attrs:{cols:"2"}},[e("b-button",{attrs:{to:"/checkout",block:"",variant:"primary"}},[e("b-icon",{attrs:{icon:"cursor-fill"}}),t._v(" Checkout ")],1)],1)],1)],1):t._e()],2),e("MyFooter",{staticClass:"mt-5"})],1)},Ps=[],Ss={name:"MyCart",components:{TopHeader:U,MyFooter:$},data(){return{selectedCurrency:"USD"}},mounted(){},computed:{...(0,u.aH)({cartProducts:t=>t.Cart.cartProducts}),cartItemCount(){return this.cartProducts.length},totalAmount(){var t,e=0;for(t=0;t<this.cartProducts.length;t++)e+=this.cartProducts[t].amount*this.cartProducts[t].quantity;return e}},methods:{async quantityInc(t){await this.$store.dispatch("Cart/updateCartItemQuantity",{productId:t.productId,quantity:t.quantity+1})},async quantityDec(t){t.quantity>1&&await this.$store.dispatch("Cart/updateCartItemQuantity",{productId:t.productId,quantity:t.quantity-1})},async removeCartItem(t){const e=await this.$store.dispatch("Cart/removeCartItem",t.productId);-1==e&&this.$bvToast.toast("Product removed from cart",{title:"Cart",variant:"success",toaster:"b-toaster-top-center",noCloseButton:!1,solid:!0})}}},Is=Ss,As=(0,l.A)(Is,Cs,Ps,!1,null,"ed364486",null),Ts=As.exports,ks=r(173);s["default"].use(ks.Ay);const Ns=[{path:"/",name:"home",component:Er,meta:{title:"Home | Phone-Shop"}},{path:"/product/:productId",name:"product-details",component:Qr,meta:{title:"Product details | Phone-Shop"}},{path:"/cart-view",name:"cart-view",component:Ts,meta:{title:"Cart | Phone-Shop"}},{path:"/checkout",name:"checkout",component:Ee,meta:{title:"Checkout | Phone-Shop"}},{path:"/order/:sessionId",name:"order",component:Qe,meta:{title:"Order details | Phone-Shop"}},{path:"/success-payment",name:"success-payment",component:qr,meta:{title:"Success payment | Phone-Shop"}},{path:"/about-us",name:"about-us",component:V,meta:{title:"About us | Phone-Shop"}},{path:"/register",name:"register",component:bs,meta:{title:"Register | Phone-Shop"}},{path:"/login",name:"login",component:ss,meta:{title:"Login | Phone-Shop"}},{path:"/profile",name:"profile",component:cs,meta:{title:"Profile | Phone-Shop"}},{path:"/reset-password/:token",name:"reset-password",component:ys,meta:{title:"Reset password | Phone-Shop"}},{path:"/admin",name:"admin",component:X,meta:{requiresAuth:!0,title:"Admin panel | Phone-Shop"}},{path:"/admin/users",name:"admin-users",component:le,meta:{requiresAuth:!0,title:"Shop users | Phone-Shop"}},{path:"/admin/orders",name:"admin-orders",component:Ut,meta:{requiresAuth:!0,title:"Order list | Phone-Shop"}},{path:"/admin/order/:orderId",name:"admin-order",component:St,meta:{requiresAuth:!0,title:"Order details | Phone-Shop"}},{path:"/admin/profile",name:"admin-profile",component:re,meta:{requiresAuth:!0,title:"Admin profile | Phone-Shop"}},{path:"/admin/add-product",name:"admin-add-product",component:be,meta:{requiresAuth:!0,title:"Add product | Phone-Shop"}},{path:"/error/401",name:"unauthorized",component:cr,meta:{title:"Unauthorized | Phone-Shop"}},{path:"/*",name:"not-found",component:sr,meta:{title:"Not found | Phone-Shop"}}],Us=new ks.Ay({mode:"history",base:"/",routes:Ns});Us.beforeEach(((t,e,r)=>{document.title=t.meta.title;const s=t.matched.some((t=>t.meta.requiresAuth)),a=C.state.CurrentUser.admin;s&&!a?r("/error/401"):r()}));var xs=Us,Rs=r(2625),Es=r(9413),Ls=r(8723);r(9313);const Os=(0,Ls.O)(C,xs);s["default"].use(Rs.YS),s["default"].use(Es.vGs),s["default"].config.productionTip=!1,Os(),new s["default"]({router:xs,store:C,render:t=>t(d)}).$mount("#app")}},e={};function r(s){var a=e[s];if(void 0!==a)return a.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,r),o.exports}r.m=t,function(){var t=[];r.O=function(e,s,a,o){if(!s){var i=1/0;for(d=0;d<t.length;d++){s=t[d][0],a=t[d][1],o=t[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(t){return r.O[t](s[l])}))?s.splice(l--,1):(n=!1,o<i&&(i=o));if(n){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[s,a,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,o,i=s[0],n=s[1],l=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(l)var d=l(r)}for(e&&e(s);c<i.length;c++)o=i[c],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(d)},s=self["webpackChunkphone_shop"]=self["webpackChunkphone_shop"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[504],(function(){return r(3319)}));s=r.O(s)})();
//# sourceMappingURL=app.62d0b88f.js.map