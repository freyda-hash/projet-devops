{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"TopHeader\",\n  data() {\n    return {\n      user: {},\n      admin: false,\n      userLoggedIn: false,\n      searchTxt: \"\"\n    };\n  },\n  async mounted() {\n    this.user = this.$store.state.CurrentUser.user;\n    this.admin = this.$store.state.CurrentUser.admin;\n    this.userLoggedIn = this.$store.state.CurrentUser.userLoggedIn;\n  },\n  computed: {},\n  methods: {\n    async logout() {\n      this.$store.dispatch(\"CurrentUser/setToken\", \"\");\n      this.$store.dispatch(\"CurrentUser/setUser\", {});\n      window.location.reload();\n    },\n    search() {\n      var newRoute = \"/\";\n      if (this.searchTxt.trim() != \"\") {\n        const text = this.searchTxt.trim();\n        newRoute += \"?q=\" + text;\n        this.$router.push({\n          path: newRoute\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","admin","userLoggedIn","searchTxt","mounted","$store","state","CurrentUser","computed","methods","logout","dispatch","window","location","reload","search","newRoute","trim","text","$router","push","path"],"sources":["src/components/Common/TopHeader.vue"],"sourcesContent":["<template>\n  <div>\n    <b-row>\n      <b-col>\n        <b-navbar\n          class=\"py-3\"\n          toggleable=\"lg\"\n          type=\"dark\"\n          style=\"background-color: #00283a\"\n        >\n          <b-navbar-brand href=\"/\">\n             <span> Phone Shop</span>\n          </b-navbar-brand>\n          <b-navbar-toggle target=\"nav-top-header-collapse\" />\n          <b-collapse id=\"nav-top-header-collapse\" is-nav>\n            <b-navbar-nav class=\"mr-auto\">        \n\n              <b-nav-form class=\"mr-auto\" v-on:submit.prevent=\"search\">\n                <b-form-input\n                  class=\"mr-sm-2 searchField\"\n                  v-model=\"searchTxt\"\n                  placeholder=\"Search...\"\n                />\n              </b-nav-form>\n            </b-navbar-nav>\n\n            <b-navbar-nav class=\"ml-auto\">\n            \n              <b-nav-item class=\"mr-auto\" to=\"/cart-view\">\n                <div>\n                  <b-icon icon=\"cart2\" />\n                  Cart\n                </div>\n              </b-nav-item>\n              <b-nav-item class=\"mr-auto\" v-if=\"userLoggedIn\">\n                <b-img height=\"35px\" width=\"35px\" :src=\"user.profileImage\" />\n              </b-nav-item>\n              <b-nav-item-dropdown class=\"mr-auto\" right v-if=\"userLoggedIn\">\n                <template #button-content>\n                  <em v-if=\"user.username\" style=\"color: #fff\">\n                    {{ user.username }}\n                  </em>\n                  <em v-if=\"!user.username\" style=\"color: #fff\">\n                    {{ user.firstName }} {{ user.lastName }}\n                  </em>\n                </template>\n                <b-dropdown-item v-if=\"admin\" to=\"/admin\">\n                  Admin Panel\n                </b-dropdown-item>\n                <b-dropdown-item to=\"/profile\">Profile</b-dropdown-item>\n                <b-dropdown-item @click=\"logout()\">Log Out</b-dropdown-item>\n              </b-nav-item-dropdown>\n              <b-button\n                class=\"mr-auto ml-3\"\n                v-if=\"!userLoggedIn\"\n                pill\n                variant=\"success\"\n                to=\"/login\"\n              >\n                Login / Register\n              </b-button>\n            </b-navbar-nav>\n          </b-collapse>\n        </b-navbar>\n      </b-col>\n    </b-row>\n    <hr class=\"m-0\" style=\"background-color: #000\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TopHeader\",\n  data() {\n    return {\n      user: {},\n      admin: false,\n      userLoggedIn: false,\n      searchTxt: \"\",\n    };\n  },\n  async mounted() {\n    this.user = this.$store.state.CurrentUser.user;\n    this.admin = this.$store.state.CurrentUser.admin;\n    this.userLoggedIn = this.$store.state.CurrentUser.userLoggedIn;\n  },\n  computed: {},\n  methods: {\n   \n    async logout() {\n      this.$store.dispatch(\"CurrentUser/setToken\", \"\");\n      this.$store.dispatch(\"CurrentUser/setUser\", {});\n      window.location.reload();\n    },\n   \n    search() {\n      var newRoute = \"/\";\n      if (this.searchTxt.trim() != \"\") {\n        const text = this.searchTxt.trim();\n        newRoute += \"?q=\" + text;\n        this.$router.push({ path: newRoute });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"],"mappings":";AAuEA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,KAAA;MACAC,YAAA;MACAC,SAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,KAAAJ,IAAA,QAAAK,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAP,IAAA;IACA,KAAAC,KAAA,QAAAI,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAN,KAAA;IACA,KAAAC,YAAA,QAAAG,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAL,YAAA;EACA;EACAM,QAAA;EACAC,OAAA;IAEA,MAAAC,OAAA;MACA,KAAAL,MAAA,CAAAM,QAAA;MACA,KAAAN,MAAA,CAAAM,QAAA;MACAC,MAAA,CAAAC,QAAA,CAAAC,MAAA;IACA;IAEAC,OAAA;MACA,IAAAC,QAAA;MACA,SAAAb,SAAA,CAAAc,IAAA;QACA,MAAAC,IAAA,QAAAf,SAAA,CAAAc,IAAA;QACAD,QAAA,YAAAE,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;UAAAC,IAAA,EAAAL;QAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}