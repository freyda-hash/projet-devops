{"ast":null,"code":"import TopHeader from \"@/components/Common/TopHeader.vue\";\nimport MyFooter from \"@/components/Common/MyFooter.vue\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"MyCart\",\n  components: {\n    TopHeader,\n    MyFooter\n  },\n  data() {\n    return {\n      selectedCurrency: \"USD\"\n    };\n  },\n  mounted() {},\n  computed: {\n    ...mapState({\n      cartProducts: state => state.Cart.cartProducts\n    }),\n    cartItemCount() {\n      return this.cartProducts.length;\n    },\n    totalAmount() {\n      var i,\n        amount = 0;\n      for (i = 0; i < this.cartProducts.length; i++) {\n        amount += this.cartProducts[i].amount * this.cartProducts[i].quantity;\n      }\n      return amount;\n    }\n  },\n  methods: {\n    async quantityInc(product) {\n      await this.$store.dispatch(\"Cart/updateCartItemQuantity\", {\n        productId: product.productId,\n        quantity: product.quantity + 1\n      });\n    },\n    async quantityDec(product) {\n      if (product.quantity > 1) {\n        await this.$store.dispatch(\"Cart/updateCartItemQuantity\", {\n          productId: product.productId,\n          quantity: product.quantity - 1\n        });\n      }\n    },\n    async removeCartItem(product) {\n      const itemIndex = await this.$store.dispatch(\"Cart/removeCartItem\", product.productId);\n      if (itemIndex == -1) {\n        this.$bvToast.toast(\"Product removed from cart\", {\n          title: \"Cart\",\n          variant: \"success\",\n          toaster: \"b-toaster-top-center\",\n          noCloseButton: false,\n          solid: true\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["TopHeader","MyFooter","mapState","name","components","data","selectedCurrency","mounted","computed","cartProducts","state","Cart","cartItemCount","length","totalAmount","i","amount","quantity","methods","quantityInc","product","$store","dispatch","productId","quantityDec","removeCartItem","itemIndex","$bvToast","toast","title","variant","toaster","noCloseButton","solid"],"sources":["src/views/UsersProduct/CartView.vue"],"sourcesContent":["<template>\n  <div>\n    <TopHeader></TopHeader>\n    <b-container class=\"mt-3\">\n      <b-row>\n        <b-col class=\"text-center\">\n          <h2>Cart</h2>\n          <hr />\n        </b-col>\n      </b-row>\n      <b-row v-if=\"cartItemCount == 0\">\n        <b-col>\n          empty cart!!!\n          <hr />\n        </b-col>\n      </b-row>\n      <div v-if=\"cartItemCount != 0\">\n        <b-row>\n          <b-col cols=\"3\" />\n          <b-col cols=\"3\">\n            <strong>Item</strong>\n          </b-col>\n          <b-col cols=\"2\">\n            <strong>Price</strong>\n          </b-col>\n          <b-col cols=\"4\">\n            <strong>Quantity</strong>\n          </b-col>\n        </b-row>\n        <hr />\n      </div>\n      <div v-for=\"product in cartProducts\" :key=\"product.productId\">\n        <b-row>\n          <b-col cols=\"3\" class=\"text-center\">\n            <b-img style=\"max-width: 66%\" :src=\"product.image\" alt=\"No Image\" />\n          </b-col>\n          <b-col cols=\"3\">\n            <b-link :to=\"`/product/${product.productId}`\">\n              {{ product.title }}\n            </b-link>\n            <b-row class=\"mt-2\" align-v=\"center\">\n              <b-col>\n                <b-form-rating\n                  :precision=\"\n                    Math.round(product.rating) == product.rating ? 0 : 1\n                  \"\n                  size=\"sm\"\n                  readonly\n                  show-value\n                  show-value-max\n                  :value=\"product.rating\"\n                  variant=\"primary\"\n                />\n              </b-col>\n            </b-row>\n            \n          </b-col>\n          <b-col cols=\"2\">\n            {{ product.amount * product.quantity }}\n            {{ product.currency }}</b-col\n          >\n          <b-col cols=\"4\">\n            <div>\n              <b-button\n                size=\"sm\"\n                variant=\"primary\"\n                @click=\"quantityInc(product)\"\n                >+\n              </b-button>\n              <a class=\"ml-4\">{{ product.quantity }}</a>\n              <b-button\n                size=\"sm\"\n                variant=\"warning\"\n                class=\"ml-4\"\n                @click=\"quantityDec(product)\"\n                >-\n              </b-button>\n              <b-button\n                size=\"sm\"\n                class=\"ml-5\"\n                @click=\"removeCartItem(product)\"\n                variant=\"danger\"\n              >\n                remove\n              </b-button>\n            </div>\n          </b-col>\n        </b-row>\n        <hr />\n      </div>\n      <div v-if=\"cartItemCount != 0\">\n        <b-row class=\"mb-3\">\n          <b-col cols=\"10\" />\n          <b-col cols=\"2\">\n            <b-card>\n              <b-card-title>Total</b-card-title>\n              <b-card-text\n                >{{ totalAmount }} {{ selectedCurrency }}</b-card-text\n              >\n            </b-card>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col cols=\"2\">\n            <b-button block variant=\"info\" to=\"/products\">Add More</b-button>\n          </b-col>\n          <b-col cols=\"8\" />\n          <b-col cols=\"2\">\n            <b-button to=\"/checkout\" block variant=\"primary\">\n              <b-icon icon=\"cursor-fill\" />\n              Checkout\n            </b-button>\n          </b-col>\n        </b-row>\n      </div>\n    </b-container>\n    <MyFooter class=\"mt-5\" />\n  </div>\n</template>\n\n<script>\nimport TopHeader from \"@/components/Common/TopHeader.vue\";\nimport MyFooter from \"@/components/Common/MyFooter.vue\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"MyCart\",\n  components: {\n    TopHeader,\n    MyFooter,\n  },\n  data() {\n    return {\n      selectedCurrency: \"USD\",\n    };\n  },\n  mounted() {},\n  computed: {\n    ...mapState({\n      cartProducts: (state) => state.Cart.cartProducts,\n    }),\n    cartItemCount() {\n      return this.cartProducts.length;\n    },\n    totalAmount() {\n      var i,\n        amount = 0;\n      for (i = 0; i < this.cartProducts.length; i++) {\n        amount += this.cartProducts[i].amount * this.cartProducts[i].quantity;\n      }\n      return amount;\n    },\n  },\n  methods: {\n    async quantityInc(product) {\n      await this.$store.dispatch(\"Cart/updateCartItemQuantity\", {\n        productId: product.productId,\n        quantity: product.quantity + 1,\n      });\n    },\n    async quantityDec(product) {\n      if (product.quantity > 1) {\n        await this.$store.dispatch(\"Cart/updateCartItemQuantity\", {\n          productId: product.productId,\n          quantity: product.quantity - 1,\n        });\n      }\n    },\n    async removeCartItem(product) {\n      const itemIndex = await this.$store.dispatch(\n        \"Cart/removeCartItem\",\n        product.productId\n      );\n      if (itemIndex == -1) {\n        this.$bvToast.toast(\"Product removed from cart\", {\n          title: \"Cart\",\n          variant: \"success\",\n          toaster: \"b-toaster-top-center\",\n          noCloseButton: false,\n          solid: true,\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"],"mappings":"AAyHA,OAAAA,SAAA;AACA,OAAAC,QAAA;AACA,SAAAC,QAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAJ,SAAA;IACAC;EACA;EACAI,KAAA;IACA;MACAC,gBAAA;IACA;EACA;EACAC,QAAA;EACAC,QAAA;IACA,GAAAN,QAAA;MACAO,YAAA,EAAAC,KAAA,IAAAA,KAAA,CAAAC,IAAA,CAAAF;IACA;IACAG,cAAA;MACA,YAAAH,YAAA,CAAAI,MAAA;IACA;IACAC,YAAA;MACA,IAAAC,CAAA;QACAC,MAAA;MACA,KAAAD,CAAA,MAAAA,CAAA,QAAAN,YAAA,CAAAI,MAAA,EAAAE,CAAA;QACAC,MAAA,SAAAP,YAAA,CAAAM,CAAA,EAAAC,MAAA,QAAAP,YAAA,CAAAM,CAAA,EAAAE,QAAA;MACA;MACA,OAAAD,MAAA;IACA;EACA;EACAE,OAAA;IACA,MAAAC,YAAAC,OAAA;MACA,WAAAC,MAAA,CAAAC,QAAA;QACAC,SAAA,EAAAH,OAAA,CAAAG,SAAA;QACAN,QAAA,EAAAG,OAAA,CAAAH,QAAA;MACA;IACA;IACA,MAAAO,YAAAJ,OAAA;MACA,IAAAA,OAAA,CAAAH,QAAA;QACA,WAAAI,MAAA,CAAAC,QAAA;UACAC,SAAA,EAAAH,OAAA,CAAAG,SAAA;UACAN,QAAA,EAAAG,OAAA,CAAAH,QAAA;QACA;MACA;IACA;IACA,MAAAQ,eAAAL,OAAA;MACA,MAAAM,SAAA,cAAAL,MAAA,CAAAC,QAAA,CACA,uBACAF,OAAA,CAAAG,SACA;MACA,IAAAG,SAAA;QACA,KAAAC,QAAA,CAAAC,KAAA;UACAC,KAAA;UACAC,OAAA;UACAC,OAAA;UACAC,aAAA;UACAC,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}