{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport AuthenticationService from \"@/services/AuthenticationService.js\";\nimport TopHeader from \"@/components/Common/TopHeader.vue\";\nimport MyFooter from \"@/components/Common/MyFooter.vue\";\nexport default {\n  name: \"Login\",\n  components: {\n    TopHeader,\n    MyFooter\n  },\n  data() {\n    return {\n      email: null,\n      password: null,\n      emailValidation: null,\n      invalidEmailMessage: \"\",\n      loginMessage: null,\n      loginAlert: false\n    };\n  },\n  mounted() {\n    this.$refs.emailField.focus();\n  },\n  methods: {\n    async login() {\n      try {\n        const response = (await AuthenticationService.login({\n          email: this.email,\n          password: this.password\n        })).data;\n        this.$store.dispatch(\"CurrentUser/setToken\", response.token);\n        this.$store.dispatch(\"CurrentUser/setUser\", response.user);\n        this.$router.push({\n          path: \"/admin\"\n        });\n      } catch (error) {\n        this.loginAlert = true;\n        this.loginMessage = error.response.data.error;\n      }\n    }\n  }\n};","map":{"version":3,"names":["AuthenticationService","TopHeader","MyFooter","name","components","data","email","password","emailValidation","invalidEmailMessage","loginMessage","loginAlert","mounted","$refs","emailField","focus","methods","login","response","$store","dispatch","token","user","$router","push","path","error"],"sources":["src/views/User/Login.vue"],"sourcesContent":["<template>\n  <div>\n    <TopHeader />\n    <b-container class=\"mt-5\">\n      <b-row align-h=\"center\">\n        <b-col cols=\"10\" md=\"7\" lg=\"5\">\n          <b-card style=\"color: #001e5f\">\n            <h4 class=\"font-weight-bold\">Login</h4>\n            <b-form @submit.stop.prevent=\"login\" class=\"mt-4\">\n              <b-form-group\n                id=\"input-group-email\"\n                label=\"Email\"\n                label-for=\"input-email\"\n              >\n                <b-form-input\n                  v-model=\"email\"\n                  id=\"input-email\"\n                  type=\"email\"\n                  ref=\"emailField\"\n                  :state=\"emailValidation\"\n                  required\n                />\n                <b-form-invalid-feedback :state=\"emailValidation\">\n                  {{ invalidEmailMessage }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n\n              <b-form-group\n                id=\"input-group-password\"\n                label=\"Password\"\n                label-for=\"input-password\"\n              >\n                <b-form-input\n                  v-model=\"password\"\n                  id=\"input-password\"\n                  type=\"password\"\n                  required\n                />\n              </b-form-group>\n              <b-alert\n                variant=\"primary\"\n                class=\"my-2 p-1 pl-2\"\n                :show=\"loginAlert\"\n              >\n                {{ loginMessage }}\n              </b-alert>\n              <b-row>\n                <b-col cols=\"3\" />\n                <b-col cols=\"6\">\n                  <b-button\n                    block\n                    class=\"p-2 mt-2\"\n                    type=\"submit\"\n                    variant=\"warning\"\n                  >\n                    Login\n                  </b-button>\n                </b-col>\n                <b-col cols=\"3\" />\n              </b-row>\n            </b-form>\n          \n          \n            <hr />\n            <b-row>\n              <b-col class=\"text-center\">\n                New Customer?&nbsp;\n                <b-link to=\"/register\">Create your account</b-link>\n              </b-col>\n            </b-row>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n    <MyFooter class=\"mt-5\" />\n  </div>\n</template>\n\n<script>\nimport AuthenticationService from \"@/services/AuthenticationService.js\";\nimport TopHeader from \"@/components/Common/TopHeader.vue\";\nimport MyFooter from \"@/components/Common/MyFooter.vue\";\nexport default {\n  name: \"Login\",\n  components: {\n    TopHeader,\n    MyFooter,\n  },\n  data() {\n    return {\n      email: null,\n      password: null,\n      emailValidation: null,\n      invalidEmailMessage: \"\",\n      loginMessage: null,\n      loginAlert: false,\n    };\n  },\n  mounted() {\n    this.$refs.emailField.focus();\n  },\n  methods: {\n    async login() {\n      try {\n        const response = (\n          await AuthenticationService.login({\n            email: this.email,\n            password: this.password,\n          })\n        ).data;\n        this.$store.dispatch(\"CurrentUser/setToken\", response.token);\n        this.$store.dispatch(\"CurrentUser/setUser\", response.user);\n        this.$router.push({ path: \"/admin\" });\n      } catch (error) {\n        this.loginAlert = true;\n        this.loginMessage = error.response.data.error;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"],"mappings":";AA+EA,OAAAA,qBAAA;AACA,OAAAC,SAAA;AACA,OAAAC,QAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAH,SAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;MACAC,eAAA;MACAC,mBAAA;MACAC,YAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,KAAA,CAAAC,UAAA,CAAAC,KAAA;EACA;EACAC,OAAA;IACA,MAAAC,MAAA;MACA;QACA,MAAAC,QAAA,IACA,MAAAlB,qBAAA,CAAAiB,KAAA;UACAX,KAAA,OAAAA,KAAA;UACAC,QAAA,OAAAA;QACA,IACAF,IAAA;QACA,KAAAc,MAAA,CAAAC,QAAA,yBAAAF,QAAA,CAAAG,KAAA;QACA,KAAAF,MAAA,CAAAC,QAAA,wBAAAF,QAAA,CAAAI,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;UAAAC,IAAA;QAAA;MACA,SAAAC,KAAA;QACA,KAAAf,UAAA;QACA,KAAAD,YAAA,GAAAgB,KAAA,CAAAR,QAAA,CAAAb,IAAA,CAAAqB,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}