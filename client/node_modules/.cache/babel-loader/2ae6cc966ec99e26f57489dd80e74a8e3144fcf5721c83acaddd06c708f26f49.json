{"ast":null,"code":"import AddToCart from \"@/components/MaintainProduct/AddToCart.vue\";\nimport ProductsService from \"@/services/ProductsService.js\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"ProductList\",\n  props: {},\n  components: {\n    AddToCart\n  },\n  data() {\n    return {\n      admin: false,\n      currentPage: 1,\n      cartComponentKey: 2\n    };\n  },\n  computed: {\n    ...mapState({\n      displayProducts: state => state.Products.displayProducts,\n      apCount: state => state.Products.apCount,\n      perPage: state => state.Products.perPage\n    })\n  },\n  mounted() {\n    this.admin = this.$store.state.CurrentUser.admin;\n  },\n  methods: {\n    refreshCartBtn() {\n      this.cartComponentKey += 1;\n    },\n    async deleteProduct(product) {\n      await ProductsService.deleteProduct(product.id);\n      await this.$store.dispatch(\"Products/setAllBackupProducts\");\n      window.location.reload();\n    },\n    async paginate(currentPage) {\n      await this.$store.dispatch(\"Products/paginate\", currentPage);\n      this.refreshCartBtn();\n    }\n  }\n};","map":{"version":3,"names":["AddToCart","ProductsService","mapState","name","props","components","data","admin","currentPage","cartComponentKey","computed","displayProducts","state","Products","apCount","perPage","mounted","$store","CurrentUser","methods","refreshCartBtn","deleteProduct","product","id","dispatch","window","location","reload","paginate"],"sources":["src/components/Products/ProductList.vue"],"sourcesContent":["<template>\n  <div>\n    <b-row>\n      <b-col cols=\"4\" v-for=\"product in displayProducts\" :key=\"product.id\">\n        <b-card-group deck>\n          <b-card img-top style=\"max-width: 25rem\" class=\"mb-4\">\n            <b-card-img\n              @click=\"$router.push({ path: `/product/${product.id}` })\"\n              :src=\"product.image1\"\n              style=\"max-width: 25rem; max-height: 25rem\"\n              alt=\"Image Not Found\"\n            />\n            <div class=\"mt-2\">\n              <b-link :to=\"`/product/${product.id}`\">\n                {{ product.title }}\n              </b-link>\n            </div>\n            <h6 class=\"mt-1\">\n              Price: {{ product.amount }} {{ product.currency }}\n            </h6>\n            <b-row class=\"mt-2\" align-v=\"center\">\n              <b-col cols=\"12\">\n                <b-form-rating\n                  :precision=\"\n                    Math.round(product.rating) == product.rating ? 0 : 1\n                  \"\n                  size=\"sm\"\n                  show-value\n                  show-value-max\n                  readonly\n                  :value=\"product.rating\"\n                  variant=\"primary\"\n                />\n              </b-col>\n            </b-row>\n            <div class=\"d-flex justify-content-between\">\n              <AddToCart\n                class=\"mt-2\"\n                addButtonTitle=\"Add To Cart\"\n                addedButtonTitle=\"In Cart\"\n                :key=\"cartComponentKey\"\n                buttonType=\"sm\"\n                :productId=\"product.id\"\n                :rating=\"product.rating\"\n                :currency=\"product.currency\"\n                :image=\"product.image1\"\n                :title=\"product.title\"\n                :amount=\"product.amount\"\n              />\n            \n            </div>\n            <b-button\n              v-if=\"admin\"\n              class=\"mt-2\"\n              @click=\"deleteProduct(product)\"\n              size=\"sm\"\n              variant=\"danger\"\n            >\n              <b-icon icon=\"trash\" />\n              Delete\n            </b-button>\n          </b-card>\n        </b-card-group>\n      </b-col>\n    </b-row>\n    <b-row class=\"mt-3 mb-5\" v-if=\"this.apCount == 0\">\n      <b-col>\n        <h2>...</h2>\n      </b-col>\n    </b-row>\n    <b-row v-if=\"this.apCount != 0\" class=\"mt-3\" align-v=\"center\">\n      <b-col>\n        <b-pagination\n          size=\"\"\n          v-model=\"currentPage\"\n          :total-rows=\"apCount\"\n          :per-page=\"perPage\"\n          @input=\"paginate(currentPage)\"\n        ></b-pagination>\n      </b-col>\n      <b-col />\n      <b-col>\n        <h6>\n          SHOWING {{ (currentPage - 1) * perPage + 1 }} TO\n          {{\n            currentPage * perPage > apCount ? apCount : currentPage * perPage\n          }}\n          OF {{ apCount }} ({{ Math.ceil(apCount / perPage) }}\n          PAGES)\n        </h6>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport AddToCart from \"@/components/MaintainProduct/AddToCart.vue\";\nimport ProductsService from \"@/services/ProductsService.js\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"ProductList\",\n  props: {},\n  components: {\n    AddToCart,\n  },\n  data() {\n    return {\n      admin: false,\n      currentPage: 1,\n      cartComponentKey: 2,\n    };\n  },\n  computed: {\n    ...mapState({\n      displayProducts: (state) => state.Products.displayProducts,\n      apCount: (state) => state.Products.apCount,\n      perPage: (state) => state.Products.perPage,\n    }),\n  },\n  mounted() {\n    this.admin = this.$store.state.CurrentUser.admin;\n  },\n  methods: {\n    refreshCartBtn() {\n      this.cartComponentKey += 1;\n    },\n    async deleteProduct(product) {\n      await ProductsService.deleteProduct(product.id);\n      await this.$store.dispatch(\"Products/setAllBackupProducts\");\n      window.location.reload();\n    },\n    async paginate(currentPage) {\n      await this.$store.dispatch(\"Products/paginate\", currentPage);\n      this.refreshCartBtn();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"],"mappings":"AAgGA,OAAAA,SAAA;AACA,OAAAC,eAAA;AACA,SAAAC,QAAA;AACA;EACAC,IAAA;EACAC,KAAA;EACAC,UAAA;IACAL;EACA;EACAM,KAAA;IACA;MACAC,KAAA;MACAC,WAAA;MACAC,gBAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAR,QAAA;MACAS,eAAA,EAAAC,KAAA,IAAAA,KAAA,CAAAC,QAAA,CAAAF,eAAA;MACAG,OAAA,EAAAF,KAAA,IAAAA,KAAA,CAAAC,QAAA,CAAAC,OAAA;MACAC,OAAA,EAAAH,KAAA,IAAAA,KAAA,CAAAC,QAAA,CAAAE;IACA;EACA;EACAC,QAAA;IACA,KAAAT,KAAA,QAAAU,MAAA,CAAAL,KAAA,CAAAM,WAAA,CAAAX,KAAA;EACA;EACAY,OAAA;IACAC,eAAA;MACA,KAAAX,gBAAA;IACA;IACA,MAAAY,cAAAC,OAAA;MACA,MAAArB,eAAA,CAAAoB,aAAA,CAAAC,OAAA,CAAAC,EAAA;MACA,WAAAN,MAAA,CAAAO,QAAA;MACAC,MAAA,CAAAC,QAAA,CAAAC,MAAA;IACA;IACA,MAAAC,SAAApB,WAAA;MACA,WAAAS,MAAA,CAAAO,QAAA,sBAAAhB,WAAA;MACA,KAAAY,cAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}