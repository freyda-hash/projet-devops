{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"BuyItem\",\n  components: {},\n  data() {\n    return {\n      selectedCurrency: \"USD\",\n      payBtnSpin: false,\n      subTotalAmount: 0,\n      formValidate: true,\n      message: \"form data is not valid\",\n      shippingRate: this.$store.state.Checkout.shippingRate,\n      totalAmount: 0,\n      checkoutProduct: null\n    };\n  },\n  computed: {},\n  mounted() {\n    this.checkoutProduct = this.$store.state.Cart.cartProducts;\n    var i;\n    for (i = 0; i < this.checkoutProduct.length; i++) {\n      this.subTotalAmount += this.checkoutProduct[i].amount * this.checkoutProduct[i].quantity;\n    }\n    this.totalAmount = this.subTotalAmount + this.shippingRate;\n  },\n  methods: {\n    async checkoutApplied() {\n      const response = await this.$store.dispatch(\"Checkout/informationValidate\");\n      if (!response) {\n        this.formValidate = false;\n        return;\n      }\n      this.payBtnSpin = true;\n      setTimeout(() => {\n        this.$router.push(\"/success-payment\");\n      }, 3000);\n    }\n  }\n};","map":{"version":3,"names":["name","components","data","selectedCurrency","payBtnSpin","subTotalAmount","formValidate","message","shippingRate","$store","state","Checkout","totalAmount","checkoutProduct","computed","mounted","Cart","cartProducts","i","length","amount","quantity","methods","checkoutApplied","response","dispatch","setTimeout","$router","push"],"sources":["src/components/Checkout/BuyItem.vue"],"sourcesContent":["<template>\n  <div>\n    <b-row>\n      <b-col\n        cols=\"6\"\n        v-for=\"product in checkoutProduct\"\n        :key=\"product.productId\"\n      >\n        <b-card-group deck>\n          <b-card img-top style=\"max-width: 14rem\" class=\"mb-4\">\n            <b-card-img\n              :src=\"product.image\"\n              style=\"max-width: 14rem; max-height: 14rem\"\n              alt=\"Image Not Found\"\n            />\n            <br />\n            <b-link :to=\"{ path: `/product/${product.productId}` }\">\n              {{ product.title }}\n            </b-link>\n            <br />\n            <small class=\"mt-2\">\n              Price: {{ product.amount }} {{ product.currency }}\n            </small>\n            <br />\n            <small class=\"mt-2\">Quantity: {{ product.quantity }}</small>\n            <br />\n            <small class=\"mt-2\">\n              Cost: {{ product.amount * product.quantity }}\n              {{ product.currency }}\n            </small>\n          </b-card>\n        </b-card-group>\n      </b-col>\n    </b-row>\n    <b-row class=\"mt-5\">\n      <b-col cols=\"2\" />\n      <b-col cols=\"10\">\n        <b-card class=\"mt-5\" v-if=\"subTotalAmount != 0\">\n          <b-row>\n            <b-col cols=\"8\">\n              <h5>Sub-Total</h5>\n            </b-col>\n            <b-col cols=\"4\">\n              <b-card-text>\n                {{ subTotalAmount }} {{ selectedCurrency }}\n              </b-card-text>\n            </b-col>\n          </b-row>\n          <b-row>\n            <b-col cols=\"8\">\n              <h5>Shipping Rate</h5>\n            </b-col>\n            <b-col cols=\"4\">\n              <b-card-text>\n                {{ shippingRate }} {{ selectedCurrency }}\n              </b-card-text>\n            </b-col>\n          </b-row>\n          <hr />\n          <b-row>\n            <b-col cols=\"8\">\n              <h5>Total</h5>\n            </b-col>\n            <b-col cols=\"4\">\n              <b-card-text>\n                {{ totalAmount }} {{ selectedCurrency }}\n              </b-card-text>\n            </b-col>\n          </b-row>\n        </b-card>\n      </b-col>\n    </b-row>\n    <b-row>\n      <b-col>\n        <b-alert\n          variant=\"primary\"\n          class=\"mb-0 mt-5 p-1 pl-2\"\n          :show=\"!formValidate\"\n        >\n          {{ message }}\n        </b-alert>\n      </b-col>\n    </b-row>\n    <b-row class=\"mt-4\" v-if=\"subTotalAmount != 0\">\n      <b-col cols=\"5\">\n        <b-button block variant=\"warning\" to=\"/cart-view\">Edit Cart</b-button>\n      </b-col>\n      <b-col cols=\"2\" />\n      <b-col>\n        <b-button\n          v-if=\"!payBtnSpin\"\n          @click=\"checkoutApplied\"\n          block\n          variant=\"success\"\n        >\n          <b-icon icon=\"cursor-fill\" />\n          Pay Now\n        </b-button>\n        <b-button v-if=\"payBtnSpin\" block variant=\"success\">\n          Processing...\n          <b-spinner small variant=\"light\"></b-spinner>\n        </b-button>\n      </b-col>\n    </b-row>\n    <b-row v-if=\"subTotalAmount == 0\">\n      <b-col class=\"text-center\">\n        <h4>No Product to Buy!!!</h4>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"BuyItem\",\n  components: {},\n  data() {\n    return {\n      selectedCurrency: \"USD\",\n      payBtnSpin: false,\n      subTotalAmount: 0,\n      formValidate: true,\n      message: \"form data is not valid\",\n      shippingRate: this.$store.state.Checkout.shippingRate,\n      totalAmount: 0,\n      checkoutProduct: null,\n    };\n  },\n  computed: {},\n  mounted() {\n    this.checkoutProduct = this.$store.state.Cart.cartProducts;\n    var i;\n    for (i = 0; i < this.checkoutProduct.length; i++) {\n      this.subTotalAmount +=\n        this.checkoutProduct[i].amount * this.checkoutProduct[i].quantity;\n    }\n    this.totalAmount = this.subTotalAmount + this.shippingRate;\n  },\n  methods: {\n    async checkoutApplied() {\n      const response = await this.$store.dispatch(\n        \"Checkout/informationValidate\"\n      );\n      if (!response) {\n        this.formValidate = false;\n        return;\n      }\n      this.payBtnSpin = true;\n      \n      setTimeout(() => {\n        this.$router.push(\"/success-payment\");\n      }, 3000);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>"],"mappings":";AAkHA;EACAA,IAAA;EACAC,UAAA;EACAC,KAAA;IACA;MACAC,gBAAA;MACAC,UAAA;MACAC,cAAA;MACAC,YAAA;MACAC,OAAA;MACAC,YAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAC,QAAA,CAAAH,YAAA;MACAI,WAAA;MACAC,eAAA;IACA;EACA;EACAC,QAAA;EACAC,QAAA;IACA,KAAAF,eAAA,QAAAJ,MAAA,CAAAC,KAAA,CAAAM,IAAA,CAAAC,YAAA;IACA,IAAAC,CAAA;IACA,KAAAA,CAAA,MAAAA,CAAA,QAAAL,eAAA,CAAAM,MAAA,EAAAD,CAAA;MACA,KAAAb,cAAA,IACA,KAAAQ,eAAA,CAAAK,CAAA,EAAAE,MAAA,QAAAP,eAAA,CAAAK,CAAA,EAAAG,QAAA;IACA;IACA,KAAAT,WAAA,QAAAP,cAAA,QAAAG,YAAA;EACA;EACAc,OAAA;IACA,MAAAC,gBAAA;MACA,MAAAC,QAAA,cAAAf,MAAA,CAAAgB,QAAA,CACA,8BACA;MACA,KAAAD,QAAA;QACA,KAAAlB,YAAA;QACA;MACA;MACA,KAAAF,UAAA;MAEAsB,UAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}