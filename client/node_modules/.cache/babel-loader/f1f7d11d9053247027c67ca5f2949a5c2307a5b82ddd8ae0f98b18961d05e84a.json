{"ast":null,"code":"export const CartModule = {\n  namespaced: true,\n  strict: true,\n  state: {\n    cartProducts: []\n  },\n  mutations: {\n    SET_CART_PRODUCTS(state, cartProducts) {\n      state.cartProducts = cartProducts;\n    },\n    ADD_CART_ITEM(state, newItem) {\n      state.cartProducts.unshift(newItem);\n    },\n    UPDATE_CART_ITEM_QUANTITY(state, {\n      index,\n      quantity\n    }) {\n      state.cartProducts[index].quantity = quantity;\n    },\n    REMOVE_CART_ITEM(state, index) {\n      state.cartProducts.splice(index, 1);\n    }\n  },\n  actions: {\n    clearCart({\n      commit\n    }) {\n      commit(\"SET_CART_PRODUCTS\", []);\n    },\n    getCartItem({\n      state\n    }, productId) {\n      const index = state.cartProducts.findIndex(obj => obj.productId == productId);\n      return index;\n    },\n    async addToCart({\n      commit,\n      dispatch\n    }, cartItem) {\n      const index = await dispatch(\"getCartItem\", cartItem.productId);\n      if (index == -1) {\n        commit(\"ADD_CART_ITEM\", cartItem);\n        return 0;\n      }\n    },\n    async updateCartItemQuantity({\n      commit,\n      dispatch\n    }, {\n      productId,\n      quantity\n    }) {\n      const index = await dispatch(\"getCartItem\", productId);\n      if (index != -1) {\n        commit(\"UPDATE_CART_ITEM_QUANTITY\", {\n          index,\n          quantity\n        });\n      }\n    },\n    async removeCartItem({\n      commit,\n      dispatch\n    }, productId) {\n      const index = await dispatch(\"getCartItem\", productId);\n      if (index != -1) {\n        commit(\"REMOVE_CART_ITEM\", index);\n        return -1;\n      }\n    }\n  }\n};","map":{"version":3,"names":["CartModule","namespaced","strict","state","cartProducts","mutations","SET_CART_PRODUCTS","ADD_CART_ITEM","newItem","unshift","UPDATE_CART_ITEM_QUANTITY","index","quantity","REMOVE_CART_ITEM","splice","actions","clearCart","commit","getCartItem","productId","findIndex","obj","addToCart","dispatch","cartItem","updateCartItemQuantity","removeCartItem"],"sources":["/home/perrine/Downloads/phone-shop/phone-shop/client/src/store/Cart.js"],"sourcesContent":["export const CartModule = {\n  namespaced: true,\n  strict: true,\n  state: {\n    cartProducts: [],\n  },\n  mutations: {\n    SET_CART_PRODUCTS(state, cartProducts) {\n      state.cartProducts = cartProducts;\n    },\n    ADD_CART_ITEM(state, newItem) {\n      state.cartProducts.unshift(newItem);\n    },\n    UPDATE_CART_ITEM_QUANTITY(state, { index, quantity }) {\n      state.cartProducts[index].quantity = quantity;\n    },\n    REMOVE_CART_ITEM(state, index) {\n      state.cartProducts.splice(index, 1);\n    },\n  },\n  actions: {\n    clearCart({ commit }) {\n      commit(\"SET_CART_PRODUCTS\", []);\n    },\n    getCartItem({ state }, productId) {\n      const index = state.cartProducts.findIndex(\n        (obj) => obj.productId == productId\n      );\n      return index;\n    },\n    async addToCart({ commit, dispatch }, cartItem) {\n      const index = await dispatch(\"getCartItem\", cartItem.productId);\n      if (index == -1) {\n        commit(\"ADD_CART_ITEM\", cartItem);\n        return 0;\n      }\n    },\n\n    async updateCartItemQuantity(\n      { commit, dispatch },\n      { productId, quantity }\n    ) {\n      const index = await dispatch(\"getCartItem\", productId);\n      if (index != -1) {\n        commit(\"UPDATE_CART_ITEM_QUANTITY\", { index, quantity });\n      }\n    },\n\n    async removeCartItem({ commit, dispatch }, productId) {\n      const index = await dispatch(\"getCartItem\", productId);\n      if (index != -1) {\n        commit(\"REMOVE_CART_ITEM\", index);\n        return -1;\n      }\n    },\n  },\n};\n"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAG;EACxBC,UAAU,EAAE,IAAI;EAChBC,MAAM,EAAE,IAAI;EACZC,KAAK,EAAE;IACLC,YAAY,EAAE;EAChB,CAAC;EACDC,SAAS,EAAE;IACTC,iBAAiBA,CAACH,KAAK,EAAEC,YAAY,EAAE;MACrCD,KAAK,CAACC,YAAY,GAAGA,YAAY;IACnC,CAAC;IACDG,aAAaA,CAACJ,KAAK,EAAEK,OAAO,EAAE;MAC5BL,KAAK,CAACC,YAAY,CAACK,OAAO,CAACD,OAAO,CAAC;IACrC,CAAC;IACDE,yBAAyBA,CAACP,KAAK,EAAE;MAAEQ,KAAK;MAAEC;IAAS,CAAC,EAAE;MACpDT,KAAK,CAACC,YAAY,CAACO,KAAK,CAAC,CAACC,QAAQ,GAAGA,QAAQ;IAC/C,CAAC;IACDC,gBAAgBA,CAACV,KAAK,EAAEQ,KAAK,EAAE;MAC7BR,KAAK,CAACC,YAAY,CAACU,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;IACrC;EACF,CAAC;EACDI,OAAO,EAAE;IACPC,SAASA,CAAC;MAAEC;IAAO,CAAC,EAAE;MACpBA,MAAM,CAAC,mBAAmB,EAAE,EAAE,CAAC;IACjC,CAAC;IACDC,WAAWA,CAAC;MAAEf;IAAM,CAAC,EAAEgB,SAAS,EAAE;MAChC,MAAMR,KAAK,GAAGR,KAAK,CAACC,YAAY,CAACgB,SAAS,CACvCC,GAAG,IAAKA,GAAG,CAACF,SAAS,IAAIA,SAC5B,CAAC;MACD,OAAOR,KAAK;IACd,CAAC;IACD,MAAMW,SAASA,CAAC;MAAEL,MAAM;MAAEM;IAAS,CAAC,EAAEC,QAAQ,EAAE;MAC9C,MAAMb,KAAK,GAAG,MAAMY,QAAQ,CAAC,aAAa,EAAEC,QAAQ,CAACL,SAAS,CAAC;MAC/D,IAAIR,KAAK,IAAI,CAAC,CAAC,EAAE;QACfM,MAAM,CAAC,eAAe,EAAEO,QAAQ,CAAC;QACjC,OAAO,CAAC;MACV;IACF,CAAC;IAED,MAAMC,sBAAsBA,CAC1B;MAAER,MAAM;MAAEM;IAAS,CAAC,EACpB;MAAEJ,SAAS;MAAEP;IAAS,CAAC,EACvB;MACA,MAAMD,KAAK,GAAG,MAAMY,QAAQ,CAAC,aAAa,EAAEJ,SAAS,CAAC;MACtD,IAAIR,KAAK,IAAI,CAAC,CAAC,EAAE;QACfM,MAAM,CAAC,2BAA2B,EAAE;UAAEN,KAAK;UAAEC;QAAS,CAAC,CAAC;MAC1D;IACF,CAAC;IAED,MAAMc,cAAcA,CAAC;MAAET,MAAM;MAAEM;IAAS,CAAC,EAAEJ,SAAS,EAAE;MACpD,MAAMR,KAAK,GAAG,MAAMY,QAAQ,CAAC,aAAa,EAAEJ,SAAS,CAAC;MACtD,IAAIR,KAAK,IAAI,CAAC,CAAC,EAAE;QACfM,MAAM,CAAC,kBAAkB,EAAEN,KAAK,CAAC;QACjC,OAAO,CAAC,CAAC;MACX;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}